{"version":3,"file":"static/js/570.986ccf81.chunk.js","mappings":"gOAAO,IAAMA,EAAeC,OAAOC,WAAa,IAAOD,OAAOC,WAAa,IAAOD,OAAOC,WAC5EC,EAAgBF,OAAOC,WAAa,IAAMD,OAAOG,YAAeH,OAAOG,YAAc,GAErFC,EAAeL,EAAeG,G,uHCA3C,SAASG,EAAUC,EAAUC,GAA4B,2BAANC,EAAM,iCAANA,EAAM,kBACvD,IAAMC,EAASC,EAAAA,SACTC,GAAQC,EAAAA,EAAAA,IAAS,SAAAC,GAAK,OAAIA,EAAMF,SAiCtC,OAhCAD,EAAAA,WAAgB,WAmBd,OAlBIJ,GACEC,GAAiC,MAAZD,GAAoBA,EAASQ,UACpDL,EAAOK,SAAP,OAAqBP,EAArB,CAAuCD,EAASQ,SAAhD,OAA4DN,IAExDC,EAAOK,SACTH,EAAMI,IAAIN,EAAOK,WASlBR,GAAYG,EAAOK,SACtBH,EAAMK,OAAOP,EAAOK,SAGf,WACDL,EAAOK,SACTH,EAAMK,OAAOP,EAAOK,YAGvB,CAACH,EAAOJ,EAAmBD,EAAUE,KACxCS,EAAAA,EAAAA,IAAS,WACP,IAAIC,EAEsC,OAArCA,EAAkBT,EAAOK,UAAoBI,EAAgBC,QAChEV,EAAOK,QAAQK,YAGZV,E,IC9BLW,EAAWC,EACXC,EAAwBC,EACxBC,EAA8BC,EAC9BC,EAAmBC,EAAmBC,E,mBAiB1CC,SAASC,iBAAkB,WAfT,SAACC,GACjB,OAAQA,EAAMC,KACZ,IAAK,IACL,IAAK,IACHN,EAAeH,EACfI,EAAeF,EACf,MAEF,IAAK,IACL,IAAK,IACHC,EAAeJ,EACfK,EAAeH,MAMrB,IAAMS,EAAS,WAGb,OAFAZ,GAASa,EAAAA,EAAAA,WAGP,8BAAmBC,IAAKd,EACtBe,SAAU,CAAC,EAAG,EAAG,MAAOC,IAAK,GAAIC,OAAQ,GAAIlC,EAAAA,GAAcmC,KAAM,EAAGC,IAAK,OAKzEC,EAAY,WAEhB,IADA,IAAMC,EAAW,GACRC,EAAI,EAAGA,EAAI,IAAOA,IACzBD,EAASE,KAAKC,EAAAA,UAAAA,gBAA0B,MACxCH,EAASE,KAAKC,EAAAA,UAAAA,gBAA0B,MACxCH,EAASE,KAAKC,EAAAA,UAAAA,gBAA0B,MAE1C,OACE,+BACE,2BAAgBC,OAAO,WAAvB,UACE,4BAAiBA,OAAO,sBAAsBtC,KAAM,CAAC,IAAIuC,aAAaL,GAAW,QAEnF,2BAAgBM,MAAO,cAKvBC,EAAO,WAGX,OAFA7B,GAAOc,EAAAA,EAAAA,WAGL,kBAAMC,IAAKf,EAAX,WACE,2BAAgBZ,KAAM,CAAC,IAAK,GAAI,MAChC,8BAAmBwC,MAAO,SAAUE,WAAW,KAC/C,kBAAMd,SAAU,CAAC,EAAG,IAAK,GAAzB,WACE,2BAAgB5B,KAAM,CAAC,GAAI,GAAI,MAC/B,8BAAmBwC,MAAO,MAAUE,WAAW,WAMjDC,EAAY,WAMhB,OALAvB,GAAYM,EAAAA,EAAAA,UACZZ,GAAoBY,EAAAA,EAAAA,UACpBX,GAAcW,EAAAA,EAAAA,UACdR,EAAeJ,GAGb,mBAAOa,IAAKP,EAAZ,WACE,8BAAmBO,IAAKb,EAAmB8B,SAAU,CAAC,EAAGC,KAAKC,GAAI,GAAI9C,KAAM,CAAC,GAAI,GAAIJ,EAAAA,GAAc,IAAK,QACxG,+BAAoB+B,IAAKZ,EAAa6B,SAAU,CAAC,EAAGC,KAAKC,GAAI,GAC3D9C,KAAM,EAAC,IAAiBJ,EAAAA,GAAa,EAAG,IAAgBA,EAAAA,GAAa,EAAGmD,KAAe,IAAgB,IAAK,QAC9G,6BACE,2BAAgB/C,KAAM,CAAC,EAAG,GAAI,MAC9B,8BAAmBwC,MAAM,UAAUE,WAAS,WAM9CM,EAAgB,WAKpB,OAJAhC,EAA0BnB,EAAUiB,EAAmBmC,EAAAA,cACvDhC,EAAoBpB,EAAUkB,EAAakC,EAAAA,cAC3C9B,EAAeH,EAER,MAGHkC,EAAY,WAChB,OAAOzC,EAAAA,EAAAA,IAAS,YAAyB,IAAtB0C,EAAqB,EAArBA,GAAIhD,EAAiB,EAAjBA,MAAOiD,EAAU,EAAVA,IACtBC,EAAiB,KAAbC,KAAKC,MAEf3C,EAAKN,QAAQsB,SAASwB,IAAI,IAAIP,KAAKW,IAAIH,GAAI,IAAIR,KAAKY,IAAIJ,GAAI,IAAIR,KAAKY,IAAIJ,IACzEzC,EAAKN,QAAQoD,SAAS,GAAG9B,SAASwB,IAAI,GAAGP,KAAKW,IAAI,EAAEH,GAAI,EAAG,GAAGR,KAAKY,IAAIJ,IAEnEnC,IAAiBJ,GACnBA,EAAkBR,QAAQuB,IAAM,GAAK,GAAKgB,KAAKY,IAAI,GAAIJ,GACvDvC,EAAkBR,QAAQ0B,IAAMpB,EAAKN,QAAQsB,SAAS+B,SACtD7C,EAAkBR,QAAQsD,yBAE1B5C,EAAwBV,QAAQK,SAChCK,EAAwBV,QAAQuD,SAAU,EAE1C5C,EAAkBX,QAAQuD,SAAU,IAGpC9C,EAAYT,QAAQ0B,IAAMpB,EAAKN,QAAQsB,SAAS+B,SAChD5C,EAAYT,QAAQsD,yBAEpB3C,EAAkBX,QAAQK,SAC1BM,EAAkBX,QAAQuD,SAAU,EAEpC7C,EAAwBV,QAAQuD,SAAU,GAG5CzC,EAAUd,QAAQwD,OAAOlD,EAAKN,QAAQsB,UAEtCuB,EAAGY,QAEH5C,EAAab,QAAQuD,SAAU,EAC/BV,EAAGa,YAAY,EAAG,EAAGzE,EAAAA,GAAe,EAAGG,EAAAA,IACvC0D,EAAI,CAACvC,OAAQK,EAAaZ,UAC1B6C,EAAGc,OAAO9D,EAAOe,EAAaZ,SAE9Ba,EAAab,QAAQuD,SAAU,EAC/BV,EAAGa,YAAYzE,EAAAA,GAAe,EAAG,EAAGA,EAAAA,GAAe,EAAGG,EAAAA,IACtD0D,EAAI,CAACvC,OAAQA,EAAOP,UACpB6C,EAAGc,OAAO9D,EAAOU,EAAOP,aAkB5B,EAdgB,WACd,OACE,UAAC,KAAD,CAAQ6C,GAAI,CAAEe,WAAW,EAAMC,WAAYvE,EAAAA,GAAewE,WAAW,GAAQvD,OAAQ,CAACwD,QAAQ,GAA9F,WACE,kBAAO/B,OAAO,aAAatC,KAAM,CAAC,YAClC,SAACyC,EAAD,KACA,SAAChB,EAAD,KACA,SAACkB,EAAD,KACA,SAACK,EAAD,KACA,SAACf,EAAD,KACA,SAACiB,EAAD","sources":["contants.tsx","../node_modules/@react-three/drei/core/useHelper.js","webgl/camera/Example.tsx"],"sourcesContent":["export const canvas_width = window.innerWidth > 640 ? (window.innerWidth - 300) : window.innerWidth\nexport const canvas_height = window.innerWidth > 640 ? window.innerHeight : (window.innerHeight - 48)\n\nexport const aspect_ratio = canvas_width / canvas_height","import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction useHelper(object3D, helperConstructor, ...args) {\n  const helper = React.useRef();\n  const scene = useThree(state => state.scene);\n  React.useEffect(() => {\n    if (object3D) {\n      if (helperConstructor && object3D != null && object3D.current) {\n        helper.current = new helperConstructor(object3D.current, ...args);\n\n        if (helper.current) {\n          scene.add(helper.current);\n        }\n      }\n    }\n    /**\n     * Dispose of the helper if no object 3D is passed\n     */\n\n\n    if (!object3D && helper.current) {\n      scene.remove(helper.current);\n    }\n\n    return () => {\n      if (helper.current) {\n        scene.remove(helper.current);\n      }\n    };\n  }, [scene, helperConstructor, object3D, args]);\n  useFrame(() => {\n    var _helper$current;\n\n    if ((_helper$current = helper.current) != null && _helper$current.update) {\n      helper.current.update();\n    }\n  });\n  return helper;\n}\n\nexport { useHelper };\n","import { useRef } from \"react\"\nimport { CameraHelper, MathUtils } from \"three\"\nimport { Canvas, useFrame } from \"@react-three/fiber\"\nimport { useHelper } from \"@react-three/drei\"\n\nimport { aspect_ratio, canvas_height, canvas_width } from '../../contants'\n\nconst frustumSize = 600\nlet mesh: any, camera: any\nlet cameraPerspective: any, cameraOrtho: any\nlet cameraPerspectiveHelper: any, cameraOrthoHelper: any\nlet activeCamera: any, activeHelper: any, cameraRig: any\n\nconst onKeyDown = (event: any) => {\n  switch (event.key) {\n    case \"o\":\n    case \"O\":\n      activeCamera = cameraOrtho\n      activeHelper = cameraOrthoHelper\n      break\n\n    case \"p\":\n    case \"P\":\n      activeCamera = cameraPerspective\n      activeHelper = cameraPerspectiveHelper\n      break\n  }\n}\ndocument.addEventListener( 'keydown', onKeyDown )\n\nconst Camera = () => {\n  camera = useRef()\n\n  return (\n    <perspectiveCamera ref={camera}\n      position={[0, 0, 2500]} fov={50} aspect={0.5*aspect_ratio} near={1} far={10000}\n    />\n  )\n}\n\nconst Particles = () => {\n  const vertices = []\n  for (let i = 0; i < 10000; i++ ) {\n    vertices.push(MathUtils.randFloatSpread(2000)) // x\n    vertices.push(MathUtils.randFloatSpread(2000)) // y\n    vertices.push(MathUtils.randFloatSpread(2000)) // z\n  }\n  return (\n    <points>\n      <bufferGeometry attach=\"geometry\">\n        <bufferAttribute attach=\"attributes-position\" args={[new Float32Array(vertices), 3]} />\n      </bufferGeometry>   \n      <pointsMaterial color={0x888888} />\n    </points>\n  )\n}\n\nconst Mesh = () => {\n  mesh = useRef()\n  \n  return (\n    <mesh ref={mesh}>\n      <sphereGeometry args={[100, 16, 8]} />\n      <meshBasicMaterial color={0xffffff} wireframe={true} />\n      <mesh position={[0, 150, 0]}>\n        <sphereGeometry args={[50, 16, 8]} />\n        <meshBasicMaterial color={0x00ff00} wireframe={true} />\n      </mesh>\n    </mesh>\n  )\n}\n\nconst CameraRig = () => {\n  cameraRig = useRef()\n  cameraPerspective = useRef()\n  cameraOrtho = useRef()\n  activeCamera = cameraPerspective\n\n  return (\n    <group ref={cameraRig}>\n      <perspectiveCamera ref={cameraPerspective} rotation={[0, Math.PI, 0]} args={[50, 0.5*aspect_ratio, 150, 1000]} />\n      <orthographicCamera ref={cameraOrtho} rotation={[0, Math.PI, 0]} \n        args={[-0.5*frustumSize*aspect_ratio/2, 0.5*frustumSize*aspect_ratio/2, frustumSize/2, -frustumSize/2, 150, 1000]} />\n      <mesh>\n        <sphereGeometry args={[5, 16, 8]} />\n        <meshBasicMaterial color='#0000ff' wireframe />\n      </mesh>\n    </group>\n  )\n}\n\nconst CameraHelpers = () => {\n  cameraPerspectiveHelper = useHelper(cameraPerspective, CameraHelper)\n  cameraOrthoHelper = useHelper(cameraOrtho, CameraHelper)\n  activeHelper = cameraPerspectiveHelper\n\n  return null\n}\n\nconst Animation = () => {\n  return useFrame(({ gl, scene, set }) => {\n    const r = Date.now() * 0.0005\n\n    mesh.current.position.set(700*Math.cos(r), 700*Math.sin(r), 700*Math.sin(r))\n    mesh.current.children[0].position.set(70*Math.cos(2*r), 0, 70*Math.sin(r))\n\n    if (activeCamera === cameraPerspective) {\n      cameraPerspective.current.fov = 35 + 30 * Math.sin(0.5*r)\n      cameraPerspective.current.far = mesh.current.position.length()\n      cameraPerspective.current.updateProjectionMatrix()\n\n      cameraPerspectiveHelper.current.update()\n      cameraPerspectiveHelper.current.visible = true\n\n      cameraOrthoHelper.current.visible = false\n\n    } else {\n      cameraOrtho.current.far = mesh.current.position.length()\n      cameraOrtho.current.updateProjectionMatrix()\n\n      cameraOrthoHelper.current.update()\n      cameraOrthoHelper.current.visible = true\n\n      cameraPerspectiveHelper.current.visible = false\n    }\n\n    cameraRig.current.lookAt(mesh.current.position)\n\n    gl.clear();    \n\n    activeHelper.current.visible = false \n    gl.setViewport(0, 0, canvas_width / 2, canvas_height)\n    set({camera: activeCamera.current})\n    gl.render(scene, activeCamera.current)\n\n    activeHelper.current.visible = true\n    gl.setViewport(canvas_width / 2, 0, canvas_width / 2, canvas_height)\n    set({camera: camera.current})\n    gl.render(scene, camera.current)\n  })\n}\n\nconst Example = () => {\n  return (\n    <Canvas gl={{ antialias: true, pixelRatio: aspect_ratio , autoClear: false}} camera={{manual: true}}>\n      <color attach=\"background\" args={[\"black\"]} />\n      <Mesh />\n      <Camera />\n      <CameraRig />\n      <CameraHelpers />\n      <Particles />\n      <Animation />\n    </Canvas>\n  )\n}\n\nexport default Example"],"names":["canvas_width","window","innerWidth","canvas_height","innerHeight","aspect_ratio","useHelper","object3D","helperConstructor","args","helper","React","scene","useThree","state","current","add","remove","useFrame","_helper$current","update","mesh","camera","cameraPerspective","cameraOrtho","cameraPerspectiveHelper","cameraOrthoHelper","activeCamera","activeHelper","cameraRig","document","addEventListener","event","key","Camera","useRef","ref","position","fov","aspect","near","far","Particles","vertices","i","push","MathUtils","attach","Float32Array","color","Mesh","wireframe","CameraRig","rotation","Math","PI","frustumSize","CameraHelpers","CameraHelper","Animation","gl","set","r","Date","now","cos","sin","children","length","updateProjectionMatrix","visible","lookAt","clear","setViewport","render","antialias","pixelRatio","autoClear","manual"],"sourceRoot":""}