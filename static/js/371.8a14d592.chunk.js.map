{"version":3,"file":"static/js/371.8a14d592.chunk.js","mappings":"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","sources":["webgl/camera/Example.tsx","../node_modules/@react-three/drei/core/PerspectiveCamera.js","../node_modules/@react-three/drei/core/OrthographicCamera.js","../node_modules/@react-three/drei/core/useHelper.js"],"sourcesContent":["import { useEffect, useRef } from \"react\"\nimport { CameraHelper, MathUtils } from \"three\"\nimport { Canvas, useFrame, useThree } from \"@react-three/fiber\"\nimport { OrthographicCamera, PerspectiveCamera, useHelper } from \"@react-three/drei\"\n\nconst SCREEN_WIDTH = window.innerWidth > 640 ? window.innerWidth - 300 : window.innerWidth\nconst SCREEN_HEIGHT = window.innerWidth > 640 ? window.innerHeight : window.innerHeight - 48\nconst aspect = SCREEN_WIDTH / SCREEN_HEIGHT\nconst frustumSize = 600\n\nlet mesh: any, renderer: any, camera: any\nlet cameraPerspective: any, cameraOrtho: any\nlet cameraPerspectiveHelper: any, cameraOrthoHelper: any\nlet activeCamera: any, activeHelper: any\n\nconst onKeydown = (event: any) => {\n  switch (event.key) {\n    case \"o\":\n    case \"O\":\n      activeCamera = cameraOrtho\n      activeHelper = cameraOrthoHelper\n      break\n\n    case \"p\":\n    case \"P\":\n      activeCamera = cameraPerspective\n      activeHelper = cameraPerspectiveHelper\n      break\n  }\n}\n\nconst CameraHelpers = () => {\n  const { gl, scene } = useThree()\n  renderer = gl\n  renderer.autoClear = false\n\n  cameraPerspective = useRef()\n  cameraOrtho = useRef()\n  cameraPerspectiveHelper = useHelper(cameraPerspective, CameraHelper)\n  cameraOrthoHelper = useHelper(cameraOrtho, CameraHelper)\n\n  useEffect(() => {\n    activeCamera = cameraPerspective\n    activeHelper = cameraPerspectiveHelper\n\n    window.addEventListener(\"keydown\", onKeydown)\n    return () => window.removeEventListener(\"keydown\", onKeydown)\n  }, [])\n\n  useFrame(() => {\n    const r = Date.now() * 0.0005\n\n    if (mesh) {\n      mesh.current.position.set(700*Math.cos(r), 700*Math.sin(r), 700*Math.sin(r))\n      mesh.current.children[0].position.set(70*Math.cos(2*r), 0, 70*Math.sin(r))\n    }\n\n    if (activeCamera === cameraPerspective && mesh.current.position.length() !== 0) {\n      cameraPerspective.fov = 35 + 30 * Math.sin(0.5*r)\n      cameraPerspective.far = mesh.current.position.length()\n\n      if (cameraPerspectiveHelper && cameraOrthoHelper) {\n        cameraPerspectiveHelper.current.update()\n        cameraPerspectiveHelper.visible = true\n  \n        cameraOrthoHelper.visible = false\n      }\n\n    } else {\n      cameraOrtho.far = mesh.current.position.length()\n\n      if (cameraPerspectiveHelper.current && cameraOrthoHelper.current) {\n        cameraOrthoHelper.current.update()\n        cameraOrthoHelper.visible = true\n  \n        cameraPerspectiveHelper.visible = false\n      }\n    }\n\n    if (cameraOrtho.current && cameraPerspective.current) {\n      cameraOrtho.current.lookAt(mesh.current.position)\n      cameraPerspective.current.lookAt(mesh.current.position)\n    }\n\n    if (renderer && activeHelper) {\n      renderer.clear();    \n\n      activeHelper.visible = false \n      renderer.setViewport(0, 0, SCREEN_WIDTH / 2, SCREEN_HEIGHT)\n      renderer.render(scene, activeCamera.current)\n\n      activeHelper.visible = true\n      renderer.setViewport(SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2, SCREEN_HEIGHT)\n      renderer.render(scene, camera.current)\n    }\n  })\n\n  return (\n    <group>    \n      <PerspectiveCamera \n        fov={50} aspect={0.5*aspect} near={150} far={1000}\n        rotation={[0, Math.PI, 0]}\n        ref={cameraPerspective} \n      />\n      <OrthographicCamera \n        left={-0.5*frustumSize*aspect/2} right={0.5*frustumSize*aspect/2} top={frustumSize/2} bottom={-frustumSize/2}\n        near={150} far={1000}\n        rotation={[0, Math.PI, 0]}\n        ref={cameraOrtho}\n      /> \n      <mesh position={[0, 0, 150]}>\n        <sphereGeometry args={[5, 16, 8]} />\n        <meshBasicMaterial color={0x0000ff} wireframe={true} />\n      </mesh>\n    </group>\n  )\n}\n\nconst Camera = () => {\n  camera = useRef()\n\n  return (\n    <PerspectiveCamera makeDefault ref={camera}\n      position={[0, 0, 2500]} fov={50} aspect={0.5*aspect} near={1} far={10000}\n    />\n  )\n}\n\nconst Particles = () => {\n  const vertices = []\n  for (let i = 0; i < 10000; i++ ) {\n    vertices.push(MathUtils.randFloatSpread(2000)) // x\n    vertices.push(MathUtils.randFloatSpread(2000)) // y\n    vertices.push(MathUtils.randFloatSpread(2000)) // z\n  }\n  return (\n    <points >\n      <bufferGeometry attach=\"geometry\">\n        <bufferAttribute name=\"position\" array={vertices} itemSize={3} />\n      </bufferGeometry>   \n      <pointsMaterial color={0x888888} />\n    </points>\n  )\n}\n\nconst Mesh = () => {\n  mesh = useRef()\n  \n  return (\n    <mesh ref={mesh}>\n      <sphereGeometry args={[100, 16, 8]} />\n      <meshBasicMaterial color={0xffffff} wireframe={true} />\n      <mesh position={[0, 150, 0]}>\n        <sphereGeometry args={[50, 16, 8]} />\n        <meshBasicMaterial color={0x00ff00} wireframe={true} />\n      </mesh>\n    </mesh>\n  )\n}\n\nconst Example = () => {\n  return (\n    <Canvas camera={{manual: true}} >\n      <color attach=\"background\" args={[\"black\"]} />\n      <Camera />\n      <CameraHelpers />\n      <Mesh />\n      <Particles />\n    </Canvas>\n  )\n}\n\nexport default Example","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\n\nconst PerspectiveCamera = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef();\n  React.useLayoutEffect(() => {\n    const {\n      current: cam\n    } = cameraRef;\n\n    if (cam && !props.manual) {\n      cam.aspect = size.width / size.height;\n      cam.updateProjectionMatrix();\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    if (makeDefault && cameraRef.current) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    }\n  }, [camera, cameraRef, makeDefault, set]);\n  return /*#__PURE__*/React.createElement(\"perspectiveCamera\", _extends({\n    ref: mergeRefs([cameraRef, ref])\n  }, props));\n});\n\nexport { PerspectiveCamera };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\n\nconst OrthographicCamera = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef();\n  React.useLayoutEffect(() => {\n    if (cameraRef.current && !props.manual) {\n      cameraRef.current.updateProjectionMatrix();\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    if (makeDefault && cameraRef.current) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    }\n  }, [camera, cameraRef, makeDefault, set]);\n  return /*#__PURE__*/React.createElement(\"orthographicCamera\", _extends({\n    left: size.width / -2,\n    right: size.width / 2,\n    top: size.height / 2,\n    bottom: size.height / -2,\n    ref: mergeRefs([cameraRef, ref])\n  }, props));\n});\n\nexport { OrthographicCamera };\n","import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction useHelper(object3D, helperConstructor, ...args) {\n  const helper = React.useRef();\n  const scene = useThree(state => state.scene);\n  React.useEffect(() => {\n    if (object3D) {\n      if (helperConstructor && object3D != null && object3D.current) {\n        helper.current = new helperConstructor(object3D.current, ...args);\n\n        if (helper.current) {\n          scene.add(helper.current);\n        }\n      }\n    }\n    /**\n     * Dispose of the helper if no object 3D is passed\n     */\n\n\n    if (!object3D && helper.current) {\n      scene.remove(helper.current);\n    }\n\n    return () => {\n      if (helper.current) {\n        scene.remove(helper.current);\n      }\n    };\n  }, [scene, helperConstructor, object3D, args]);\n  useFrame(() => {\n    var _helper$current;\n\n    if ((_helper$current = helper.current) != null && _helper$current.update) {\n      helper.current.update();\n    }\n  });\n  return helper;\n}\n\nexport { useHelper };\n"],"names":["mesh","renderer","camera","cameraPerspective","cameraOrtho","cameraPerspectiveHelper","cameraOrthoHelper","activeCamera","activeHelper","PerspectiveCamera","React","ref","makeDefault","props","set","useThree","size","cameraRef","cam","current","manual","aspect","width","height","updateProjectionMatrix","oldCam","_extends","mergeRefs","OrthographicCamera","left","right","top","bottom","SCREEN_WIDTH","window","innerWidth","SCREEN_HEIGHT","innerHeight","onKeydown","event","key","CameraHelpers","gl","scene","autoClear","useRef","useHelper","CameraHelper","useEffect","addEventListener","removeEventListener","useFrame","r","Date","now","position","Math","cos","sin","children","length","fov","far","update","visible","lookAt","clear","setViewport","render","near","rotation","PI","frustumSize","args","color","wireframe","Camera","Particles","vertices","i","push","MathUtils","attach","name","array","itemSize","Mesh","object3D","helperConstructor","helper","state","add","remove","_helper$current"],"sourceRoot":""}