"use strict";(self.webpackChunkthreejs_examples_with_fiber=self.webpackChunkthreejs_examples_with_fiber||[]).push([[570],{6710:function(e,r,t){t.d(r,{Pf:function(){return i},Uv:function(){return a},fx:function(){return n}});var n=window.innerWidth>640?window.innerWidth-300:window.innerWidth,a=window.innerWidth>640?window.innerHeight:window.innerHeight-48,i=n/a},570:function(e,r,t){t.r(r),t.d(r,{default:function(){return C}});var n=t(2791),a=t(7760),i=t(4647),s=t(2794),c=t(5647);function u(e,r){for(var t=arguments.length,a=new Array(t>2?t-2:0),i=2;i<t;i++)a[i-2]=arguments[i];var u=n.useRef(),o=(0,s.w)((function(e){return e.scene}));return n.useEffect((function(){return e&&r&&null!=e&&e.current&&(u.current=(0,c.Z)(r,[e.current].concat(a)),u.current&&o.add(u.current)),!e&&u.current&&o.remove(u.current),function(){u.current&&o.remove(u.current)}}),[o,r,e,a]),(0,s.x)((function(){var e;null!=(e=u.current)&&e.update&&u.current.update()})),u}var o,f,l,h,p,d,x,j,m,w=t(6710),v=t(184);document.addEventListener("keydown",(function(e){switch(e.key){case"o":case"O":x=h,j=d;break;case"p":case"P":x=l,j=p}}));var g=function(){return f=(0,n.useRef)(),(0,v.jsx)("perspectiveCamera",{ref:f,position:[0,0,2500],fov:50,aspect:.5*w.Pf,near:1,far:1e4})},b=function(){for(var e=[],r=0;r<1e4;r++)e.push(a.MathUtils.randFloatSpread(2e3)),e.push(a.MathUtils.randFloatSpread(2e3)),e.push(a.MathUtils.randFloatSpread(2e3));return(0,v.jsxs)("points",{children:[(0,v.jsx)("bufferGeometry",{attach:"geometry",children:(0,v.jsx)("bufferAttribute",{attach:"attributes-position",args:[new Float32Array(e),3]})}),(0,v.jsx)("pointsMaterial",{color:8947848})]})},M=function(){return o=(0,n.useRef)(),(0,v.jsxs)("mesh",{ref:o,children:[(0,v.jsx)("sphereGeometry",{args:[100,16,8]}),(0,v.jsx)("meshBasicMaterial",{color:16777215,wireframe:!0}),(0,v.jsxs)("mesh",{position:[0,150,0],children:[(0,v.jsx)("sphereGeometry",{args:[50,16,8]}),(0,v.jsx)("meshBasicMaterial",{color:65280,wireframe:!0})]})]})},P=function(){return m=(0,n.useRef)(),l=(0,n.useRef)(),h=(0,n.useRef)(),x=l,(0,v.jsxs)("group",{ref:m,children:[(0,v.jsx)("perspectiveCamera",{ref:l,rotation:[0,Math.PI,0],args:[50,.5*w.Pf,150,1e3]}),(0,v.jsx)("orthographicCamera",{ref:h,rotation:[0,Math.PI,0],args:[-300*w.Pf/2,300*w.Pf/2,300,-300,150,1e3]}),(0,v.jsxs)("mesh",{children:[(0,v.jsx)("sphereGeometry",{args:[5,16,8]}),(0,v.jsx)("meshBasicMaterial",{color:"#0000ff",wireframe:!0})]})]})},k=function(){return p=u(l,a.CameraHelper),d=u(h,a.CameraHelper),j=p,null},y=function(){return(0,s.x)((function(e){var r=e.gl,t=e.scene,n=e.set,a=5e-4*Date.now();o.current.position.set(700*Math.cos(a),700*Math.sin(a),700*Math.sin(a)),o.current.children[0].position.set(70*Math.cos(2*a),0,70*Math.sin(a)),x===l?(l.current.fov=35+30*Math.sin(.5*a),l.current.far=o.current.position.length(),l.current.updateProjectionMatrix(),p.current.update(),p.current.visible=!0,d.current.visible=!1):(h.current.far=o.current.position.length(),h.current.updateProjectionMatrix(),d.current.update(),d.current.visible=!0,p.current.visible=!1),m.current.lookAt(o.current.position),r.clear(),j.current.visible=!1,r.setViewport(0,0,w.fx/2,w.Uv),n({camera:x.current}),r.render(t,x.current),j.current.visible=!0,r.setViewport(w.fx/2,0,w.fx/2,w.Uv),n({camera:f.current}),r.render(t,f.current)}))},C=function(){return(0,v.jsxs)(i.Xz,{gl:{antialias:!0,pixelRatio:w.Pf,autoClear:!1},camera:{manual:!0},children:[(0,v.jsx)("color",{attach:"background",args:["black"]}),(0,v.jsx)(M,{}),(0,v.jsx)(g,{}),(0,v.jsx)(P,{}),(0,v.jsx)(k,{}),(0,v.jsx)(b,{}),(0,v.jsx)(y,{})]})}}}]);
//# sourceMappingURL=570.986ccf81.chunk.js.map