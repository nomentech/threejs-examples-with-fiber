{"version":3,"file":"static/js/385.407709b2.chunk.js","mappings":"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","sources":["contants.tsx","../node_modules/three-stdlib/effects/AsciiEffect.js","webgl/effects_ascii/Example.tsx"],"sourcesContent":["export const canvas_width = window.innerWidth > 640 ? (window.innerWidth - 300) : window.innerWidth\nexport const canvas_height = window.innerWidth > 640 ? window.innerHeight : (window.innerHeight - 48)\n\nexport const aspect_ratio = canvas_width / canvas_height","/**\n * Ascii generation is based on http://www.nihilogic.dk/labs/jsascii/\n * Maybe more about this later with a blog post at http://lab4games.net/zz85/blog\n *\n * 16 April 2012 - @blurspline\n */\nconst AsciiEffect = function (renderer, charSet, options) {\n  // its fun to create one your own!\n  charSet = charSet === undefined ? ' .:-=+*#%@' : charSet; // ' .,:;=|iI+hHOE#`$';\n  // darker bolder character set from https://github.com/saw/Canvas-ASCII-Art/\n  // ' .\\'`^\",:;Il!i~+_-?][}{1)(|/tfjrxnuvczXYUJCLQ0OZmwqpdbkhao*#MW&8%B@$'.split('');\n\n  if (!options) options = {}; // Some ASCII settings\n\n  const bResolution = !options['resolution'] ? 0.15 : options['resolution']; // Higher for more details\n\n  const iScale = !options['scale'] ? 1 : options['scale'];\n  const bColor = !options['color'] ? false : options['color']; // nice but slows down rendering!\n\n  const bAlpha = !options['alpha'] ? false : options['alpha']; // Transparency\n\n  const bBlock = !options['block'] ? false : options['block']; // blocked characters. like good O dos\n\n  const bInvert = !options['invert'] ? false : options['invert']; // black is white, white is black\n\n  const strResolution = 'low';\n  let width, height;\n  const domElement = document.createElement('div');\n  domElement.style.cursor = 'default';\n  const oAscii = document.createElement('table');\n  domElement.appendChild(oAscii);\n  let iWidth, iHeight;\n  let oImg;\n\n  this.setSize = (w, h) => {\n    width = w;\n    height = h;\n    renderer.setSize(w, h);\n    initAsciiSize();\n  };\n\n  this.render = (scene, camera) => {\n    renderer.render(scene, camera);\n    asciifyImage(renderer, oAscii);\n  };\n\n  this.domElement = domElement; // Throw in ascii library from http://www.nihilogic.dk/labs/jsascii/jsascii.js\n\n  /*\n   * jsAscii 0.1\n   * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/\n   * MIT License [http://www.nihilogic.dk/licenses/mit-license.txt]\n   */\n\n  function initAsciiSize() {\n    iWidth = Math.round(width * fResolution);\n    iHeight = Math.round(height * fResolution);\n    oCanvas.width = iWidth;\n    oCanvas.height = iHeight; // oCanvas.style.display = \"none\";\n    // oCanvas.style.width = iWidth;\n    // oCanvas.style.height = iHeight;\n\n    oImg = renderer.domElement;\n\n    if (oImg.style.backgroundColor) {\n      oAscii.rows[0].cells[0].style.backgroundColor = oImg.style.backgroundColor;\n      oAscii.rows[0].cells[0].style.color = oImg.style.color;\n    }\n\n    oAscii.cellSpacing = 0;\n    oAscii.cellPadding = 0;\n    const oStyle = oAscii.style;\n    oStyle.display = 'inline';\n    oStyle.width = `${Math.round(iWidth / fResolution * iScale)}px`;\n    oStyle.height = `${Math.round(iHeight / fResolution * iScale)}px`;\n    oStyle.whiteSpace = 'pre';\n    oStyle.margin = '0px';\n    oStyle.padding = '0px';\n    oStyle.letterSpacing = `${fLetterSpacing}px`;\n    oStyle.fontFamily = strFont;\n    oStyle.fontSize = `${fFontSize}px`;\n    oStyle.lineHeight = `${fLineHeight}px`;\n    oStyle.textAlign = 'left';\n    oStyle.textDecoration = 'none';\n  }\n\n  const aDefaultCharList = ' .,:;i1tfLCG08@'.split('');\n  const aDefaultColorCharList = ' CGO08@'.split('');\n  var strFont = 'courier new, monospace';\n  const oCanvasImg = renderer.domElement;\n  var oCanvas = document.createElement('canvas');\n\n  if (!oCanvas.getContext) {\n    return;\n  }\n\n  const oCtx = oCanvas.getContext('2d');\n\n  if (!oCtx.getImageData) {\n    return;\n  }\n\n  let aCharList = bColor ? aDefaultColorCharList : aDefaultCharList;\n  if (charSet) aCharList = charSet;\n  var fResolution = 0.5;\n\n  switch (strResolution) {\n    case 'low':\n      fResolution = 0.25;\n      break;\n\n    case 'medium':\n      fResolution = 0.5;\n      break;\n\n    case 'high':\n      fResolution = 1;\n      break;\n  }\n\n  if (bResolution) fResolution = bResolution; // Setup dom\n\n  var fFontSize = 2 / fResolution * iScale;\n  var fLineHeight = 2 / fResolution * iScale; // adjust letter-spacing for all combinations of scale and resolution to get it to fit the image width.\n\n  var fLetterSpacing = 0;\n\n  {\n    switch (iScale) {\n      case 1:\n        fLetterSpacing = -1;\n        break;\n\n      case 2:\n      case 3:\n        fLetterSpacing = -2.1;\n        break;\n\n      case 4:\n        fLetterSpacing = -3.1;\n        break;\n\n      case 5:\n        fLetterSpacing = -4.15;\n        break;\n    }\n  }\n  // convert img element to ascii\n\n\n  function asciifyImage(canvasRenderer, oAscii) {\n    oCtx.clearRect(0, 0, iWidth, iHeight);\n    oCtx.drawImage(oCanvasImg, 0, 0, iWidth, iHeight);\n    const oImgData = oCtx.getImageData(0, 0, iWidth, iHeight).data; // Coloring loop starts now\n\n    let strChars = ''; // console.time('rendering');\n\n    for (let y = 0; y < iHeight; y += 2) {\n      for (let x = 0; x < iWidth; x++) {\n        const iOffset = (y * iWidth + x) * 4;\n        const iRed = oImgData[iOffset];\n        const iGreen = oImgData[iOffset + 1];\n        const iBlue = oImgData[iOffset + 2];\n        const iAlpha = oImgData[iOffset + 3];\n        let iCharIdx;\n        let fBrightness;\n        fBrightness = (0.3 * iRed + 0.59 * iGreen + 0.11 * iBlue) / 255; // fBrightness = (0.3*iRed + 0.5*iGreen + 0.3*iBlue) / 255;\n\n        if (iAlpha == 0) {\n          // should calculate alpha instead, but quick hack :)\n          //fBrightness *= (iAlpha / 255);\n          fBrightness = 1;\n        }\n\n        iCharIdx = Math.floor((1 - fBrightness) * (aCharList.length - 1));\n\n        if (bInvert) {\n          iCharIdx = aCharList.length - iCharIdx - 1;\n        } // good for debugging\n        //fBrightness = Math.floor(fBrightness * 10);\n        //strThisChar = fBrightness;\n\n\n        let strThisChar = aCharList[iCharIdx];\n        if (strThisChar === undefined || strThisChar == ' ') strThisChar = '&nbsp;';\n\n        if (bColor) {\n          strChars += `<span style='color:rgb(${iRed},${iGreen},${iBlue});${bBlock ? `background-color:rgb(${iRed},${iGreen},${iBlue});` : ''}${bAlpha ? `opacity:${iAlpha / 255};` : ''}'>${strThisChar}</span>`;\n        } else {\n          strChars += strThisChar;\n        }\n      }\n\n      strChars += '<br/>';\n    }\n\n    oAscii.innerHTML = `<tr><td>${strChars}</td></tr>`; // console.timeEnd('rendering');\n    // return oAscii;\n  } // end modified asciifyImage block\n\n};\n\nexport { AsciiEffect };\n","import { useEffect, useMemo, useRef } from 'react'\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport { TrackballControls } from '@react-three/drei'\nimport { AsciiEffect } from 'three-stdlib'\n\nimport { aspect_ratio } from '../../contants'\n\nconst Effect = () => {\n  const { size, gl, scene, camera } = useThree()\n\n  const effect = useMemo(() => {\n    const effect = new AsciiEffect(gl, ' .:-+*=%@#', { invert: true })\n    // position, top, left is necessary\n    effect.domElement.style.position = 'absolute'\n    effect.domElement.style.top = '0px'\n    effect.domElement.style.left = '0px'\n    effect.domElement.style.color = 'white'\n    effect.domElement.style.backgroundColor = 'black'\n\n    return effect\n  }, [])\n\n  // Append on mount, remove on unmount\n  useEffect(() => {\n    gl.domElement.parentNode?.appendChild(effect.domElement)\n    return () => gl.domElement.parentNode?.removeChild(effect.domElement) as any\n  }, [effect])\n\n  useEffect(() => {\n    effect.setSize(size.width, size.height)\n  }, [size])\n\n  // Take over render-loop (that is what the priority 1 is for)\n  useFrame(() => {\n    effect.render(scene, camera)\n  }, 1)\n\n  return null  \n}\n\nconst Plane = () => {\n  return (\n    <mesh position={[0, -200, 0]} rotation={[-Math.PI/2, 0, 0]} >\n      <planeGeometry args={[400, 400]} />\n      <meshBasicMaterial color='#e0e0e0' />\n    </mesh>\n  )\n}\n\nconst Sphere = () => {\n  const sphere: any = useRef()\n  \n  useFrame(({ clock }) => {\n    const timer = clock.getElapsedTime()\n\n    sphere.current.position.y = Math.abs(Math.sin(timer*2)) * 150\n    sphere.current.rotation.x = timer * 0.3\n    sphere.current.rotation.z = timer * 0.2\n  })\n\n  return (\n    <mesh ref={sphere}>\n      <sphereGeometry args={[200, 20, 10]} />\n      <meshPhongMaterial flatShading />\n    </mesh>\n  )\n}\n\nconst Light = () => {\n  return (\n    <>\n      <pointLight args={[0xffffff]} position={[500, 500, 500]} />\n      <pointLight args={[0xffffff, 0.25]} position={[-500, -500, -500]} />\n    </>\n  )\n}\n\nconst Example = () => {\n  return (\n    <Canvas camera={{ position: [0, 150, 500], fov: 70, aspect: aspect_ratio, near: 1, far: 1000 }}>\n      <color attach='background' args={['#000000']} />\n      <Light />\n      <Sphere />\n      <Plane />\n      <Effect />\n      <TrackballControls />\n    </Canvas>\n  )\n}\n\nexport default Example"],"names":["canvas_width","window","innerWidth","canvas_height","innerHeight","aspect_ratio","AsciiEffect","renderer","charSet","options","undefined","width","height","bResolution","iScale","bColor","bAlpha","bBlock","bInvert","domElement","document","createElement","style","cursor","iWidth","iHeight","oImg","oAscii","appendChild","this","setSize","w","h","Math","round","fResolution","oCanvas","backgroundColor","rows","cells","color","cellSpacing","cellPadding","oStyle","display","whiteSpace","margin","padding","letterSpacing","fLetterSpacing","fontFamily","strFont","fontSize","fFontSize","lineHeight","fLineHeight","textAlign","textDecoration","initAsciiSize","render","scene","camera","canvasRenderer","oCtx","clearRect","drawImage","oCanvasImg","oImgData","getImageData","data","strChars","y","x","iOffset","iRed","iGreen","iBlue","iAlpha","iCharIdx","fBrightness","floor","aCharList","length","strThisChar","innerHTML","asciifyImage","aDefaultCharList","split","aDefaultColorCharList","getContext","Effect","useThree","size","gl","effect","useMemo","invert","position","top","left","useEffect","parentNode","removeChild","useFrame","Plane","rotation","PI","args","Sphere","sphere","useRef","timer","clock","getElapsedTime","current","abs","sin","z","ref","flatShading","Light","fov","aspect","near","far","attach","TrackballControls"],"sourceRoot":""}