{"version":3,"file":"static/js/462.c7b1c2ee.chunk.js","mappings":"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","sources":["../node_modules/three/examples/jsm/environments/RoomEnvironment.js","webgl/animation_keyframes/Example.tsx","../node_modules/@react-three/drei/core/useAnimations.js"],"sourcesContent":["/**\n * https://github.com/google/model-viewer/blob/master/packages/model-viewer/src/three-components/EnvironmentScene.ts\n */\n\nimport {\n \tBackSide,\n \tBoxGeometry,\n \tMesh,\n\tMeshBasicMaterial,\n \tMeshStandardMaterial,\n \tPointLight,\n \tScene,\n} from 'three';\n\nclass RoomEnvironment extends Scene {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tconst geometry = new BoxGeometry();\n\t\tgeometry.deleteAttribute( 'uv' );\n\n\t\tconst roomMaterial = new MeshStandardMaterial( { side: BackSide } );\n\t\tconst boxMaterial = new MeshStandardMaterial();\n\n\t\tconst mainLight = new PointLight( 0xffffff, 5.0, 28, 2 );\n\t\tmainLight.position.set( 0.418, 16.199, 0.300 );\n\t\tthis.add( mainLight );\n\n\t\tconst room = new Mesh( geometry, roomMaterial );\n\t\troom.position.set( - 0.757, 13.219, 0.717 );\n\t\troom.scale.set( 31.713, 28.305, 28.591 );\n\t\tthis.add( room );\n\n\t\tconst box1 = new Mesh( geometry, boxMaterial );\n\t\tbox1.position.set( - 10.906, 2.009, 1.846 );\n\t\tbox1.rotation.set( 0, - 0.195, 0 );\n\t\tbox1.scale.set( 2.328, 7.905, 4.651 );\n\t\tthis.add( box1 );\n\n\t\tconst box2 = new Mesh( geometry, boxMaterial );\n\t\tbox2.position.set( - 5.607, - 0.754, - 0.758 );\n\t\tbox2.rotation.set( 0, 0.994, 0 );\n\t\tbox2.scale.set( 1.970, 1.534, 3.955 );\n\t\tthis.add( box2 );\n\n\t\tconst box3 = new Mesh( geometry, boxMaterial );\n\t\tbox3.position.set( 6.167, 0.857, 7.803 );\n\t\tbox3.rotation.set( 0, 0.561, 0 );\n\t\tbox3.scale.set( 3.927, 6.285, 3.687 );\n\t\tthis.add( box3 );\n\n\t\tconst box4 = new Mesh( geometry, boxMaterial );\n\t\tbox4.position.set( - 2.017, 0.018, 6.124 );\n\t\tbox4.rotation.set( 0, 0.333, 0 );\n\t\tbox4.scale.set( 2.002, 4.566, 2.064 );\n\t\tthis.add( box4 );\n\n\t\tconst box5 = new Mesh( geometry, boxMaterial );\n\t\tbox5.position.set( 2.291, - 0.756, - 2.621 );\n\t\tbox5.rotation.set( 0, - 0.286, 0 );\n\t\tbox5.scale.set( 1.546, 1.552, 1.496 );\n\t\tthis.add( box5 );\n\n\t\tconst box6 = new Mesh( geometry, boxMaterial );\n\t\tbox6.position.set( - 2.193, - 0.369, - 5.547 );\n\t\tbox6.rotation.set( 0, 0.516, 0 );\n\t\tbox6.scale.set( 3.875, 3.487, 2.986 );\n\t\tthis.add( box6 );\n\n\n\t\t// -x right\n\t\tconst light1 = new Mesh( geometry, createAreaLightMaterial( 50 ) );\n\t\tlight1.position.set( - 16.116, 14.37, 8.208 );\n\t\tlight1.scale.set( 0.1, 2.428, 2.739 );\n\t\tthis.add( light1 );\n\n\t\t// -x left\n\t\tconst light2 = new Mesh( geometry, createAreaLightMaterial( 50 ) );\n\t\tlight2.position.set( - 16.109, 18.021, - 8.207 );\n\t\tlight2.scale.set( 0.1, 2.425, 2.751 );\n\t\tthis.add( light2 );\n\n\t\t// +x\n\t\tconst light3 = new Mesh( geometry, createAreaLightMaterial( 17 ) );\n\t\tlight3.position.set( 14.904, 12.198, - 1.832 );\n\t\tlight3.scale.set( 0.15, 4.265, 6.331 );\n\t\tthis.add( light3 );\n\n\t\t// +z\n\t\tconst light4 = new Mesh( geometry, createAreaLightMaterial( 43 ) );\n\t\tlight4.position.set( - 0.462, 8.89, 14.520 );\n\t\tlight4.scale.set( 4.38, 5.441, 0.088 );\n\t\tthis.add( light4 );\n\n\t\t// -z\n\t\tconst light5 = new Mesh( geometry, createAreaLightMaterial( 20 ) );\n\t\tlight5.position.set( 3.235, 11.486, - 12.541 );\n\t\tlight5.scale.set( 2.5, 2.0, 0.1 );\n\t\tthis.add( light5 );\n\n\t\t// +y\n\t\tconst light6 = new Mesh( geometry, createAreaLightMaterial( 100 ) );\n\t\tlight6.position.set( 0.0, 20.0, 0.0 );\n\t\tlight6.scale.set( 1.0, 0.1, 1.0 );\n\t\tthis.add( light6 );\n\n\t}\n\n}\n\nfunction createAreaLightMaterial( intensity ) {\n\n\tconst material = new MeshBasicMaterial();\n\tmaterial.color.setScalar( intensity );\n\treturn material;\n\n}\n\nexport { RoomEnvironment };\n","import { Suspense, useEffect } from \"react\"\nimport { Canvas, useThree } from \"@react-three/fiber\"\nimport { OrbitControls, useAnimations, useGLTF } from \"@react-three/drei\"\nimport { Color, PMREMGenerator } from \"three\"\nimport { RoomEnvironment } from \"three/examples/jsm/environments/RoomEnvironment\"\n\nconst modelPath = `${process.env.PUBLIC_URL}/models/LittlestTokyo.glb`\nuseGLTF.preload(modelPath)\n\nconst Env = () => {\n  const {gl, scene } = useThree()\n  const pmremGenerator = new PMREMGenerator(gl)\n  scene.environment = pmremGenerator.fromScene(new RoomEnvironment(), 0.04).texture\n  scene.background = new Color(0xbfe3dd) \n  return null\n}\n\nconst Model = () => {\n  const { scene, animations } = useGLTF(modelPath) as any\n  const { actions } = useAnimations(animations, scene)\n\n  useEffect(() => {\n    actions[\"Take 001\"]?.play()\n  }, [actions, scene])\n\n  return (\n    <primitive object={scene} scale={[0.01, 0.01, 0.01]} position={[1, 1, 0]} />\n  )\n}\n\nconst Example = () => {\n  return (\n    <Canvas \n      camera={{ position: [5, 2, 8], fov: 40, near:1, far: 100 }}\n      dpr={[1, 2]}>\n      {/* <color attach=\"background\" args={[0xbfe3dd]} /> */}\n      <Env />\n      <Suspense fallback={null}>\n        <Model />\n      </Suspense>\n      <OrbitControls target={[0, 0.5, 0]}/>\n    </Canvas>\n  )\n}\n\nexport default Example","import * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nfunction useAnimations(clips, root) {\n  const ref = React.useRef();\n  const [actualRef] = React.useState(() => root ? root instanceof Object3D ? {\n    current: root\n  } : root : ref); // eslint-disable-next-line prettier/prettier\n\n  const [mixer] = React.useState(() => new AnimationMixer(undefined));\n  const lazyActions = React.useRef({});\n  const [api] = React.useState(() => {\n    const actions = {};\n    clips.forEach(clip => Object.defineProperty(actions, clip.name, {\n      enumerable: true,\n\n      get() {\n        if (actualRef.current) {\n          return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n        }\n      }\n\n    }));\n    return {\n      ref: actualRef,\n      clips,\n      actions,\n      names: clips.map(c => c.name),\n      mixer\n    };\n  });\n  useFrame((state, delta) => mixer.update(delta));\n  React.useEffect(() => {\n    const currentRoot = actualRef.current;\n    return () => {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      Object.values(api.actions).forEach(action => {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  return api;\n}\n\nexport { useAnimations };\n"],"names":["RoomEnvironment","geometry","BoxGeometry","deleteAttribute","roomMaterial","MeshStandardMaterial","side","BackSide","boxMaterial","mainLight","PointLight","position","set","add","room","Mesh","scale","box1","rotation","box2","box3","box4","box5","box6","light1","createAreaLightMaterial","light2","light3","light4","light5","light6","Scene","intensity","material","MeshBasicMaterial","color","setScalar","modelPath","process","useGLTF","Env","useThree","gl","scene","pmremGenerator","PMREMGenerator","environment","fromScene","texture","background","Color","Model","clips","root","ref","React","Object3D","current","actualRef","AnimationMixer","undefined","mixer","lazyActions","actions","forEach","clip","Object","defineProperty","name","enumerable","get","clipAction","names","map","c","api","useFrame","state","delta","update","currentRoot","values","action","uncacheAction","useAnimations","animations","useEffect","play","object","camera","fov","near","far","dpr","Suspense","fallback","OrbitControls","target"],"sourceRoot":""}