"use strict";(self.webpackChunkthreejs_examples_with_fiber=self.webpackChunkthreejs_examples_with_fiber||[]).push([[746],{6746:function(e,t,i){i.r(t);var o,n,a,s,r,l,f,u,c,d,m=i(2791),h=i(7760),p=i(2794),g=i(4647),w=i(3655),v=i(9513),k=i(536),x=i(184),y=!1,j=0;w.L.preload(k);var b=function(e,t){e.enabled=!0,e.setEffectiveTimeScale(1),e.setEffectiveWeight(t)},L=function(){b(f,P["modify idle weight"]),b(u,P["modify walk weight"]),b(c,P["modify run weight"]),d.forEach((function(e){e.play()}))},C=function(){d.forEach((function(e){e.paused=!0}))},E=function(){d.forEach((function(e){e.paused=!1}))},M=function(e){o.visible=e},S=function(e){n.visible=e},I=function(e){a.timeScale=e},A=function(e,t,i){var o=W(i);y=!1,E(),e===f?z(e,t,o):_(e,t,o)},W=function(e){return P["use default duration"]?e:P["set custom duration"]},_=function(e,t,i){a.addEventListener("loop",(function o(n){n.action===e&&(a.removeEventListener("loop",o),z(e,t,i))}))},z=function(e,t,i){b(t,1),t.time=0,e.crossFadeTo(t,i,!0)},P={"show model":!0,"show skeleton":!1,"deactivate all":function(){d.forEach((function(e){e.stop()}))},"activate all":L,"pause/continue":function(){y?(y=!1,E()):f.paused?E():C()},"make single step":function(e){E(),y=!0,j=e},"modify step size":.05,"from walk to idle":function(){A(u,f,1)},"from idle to walk":function(){A(f,u,.5)},"from walk to run":function(){A(u,c,2.5)},"from run to walk":function(){A(c,u,5)},"use default duration":!0,"set custom duration":3.5,"modify idle weight":0,"modify walk weight":1,"modify run weight":0,"modify time scale":1},F=function(){var e=(0,w.L)(k),t=e.scene,i=e.animations;return o=t,a=new h.AnimationMixer(o),f=a.clipAction(i[0]),u=a.clipAction(i[3]),c=a.clipAction(i[1]),d=[f,u,c],(n=new h.SkeletonHelper(t)).visible=!0,(0,p.x)((function(e,t){s=f.getEffectiveWeight(),r=u.getEffectiveWeight(),l=c.getEffectiveWeight(),P["modify idle weight"]=s,P["modify walk weight"]=r,P["modify run weight"]=l;var i=t;y&&(i=j,j=0),a.update(i)})),(0,m.useEffect)((function(){t.traverse((function(e){return e.isMesh&&(e.castShadow=!0)})),L()}),[t]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("primitive",{object:t}),(0,x.jsx)("primitive",{object:n})]})},G=function(){return(0,x.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],receiveShadow:!0,children:[(0,x.jsx)("planeGeometry",{args:[100,100]}),(0,x.jsx)("meshPhongMaterial",{color:10066329,depthWrite:!1})]})},T=function(){return(0,v.M4)("Visibility",{"show model":{value:P["show model"],onChange:M},"show skeleton":{value:P["show skeleton"],onChange:S}}),(0,v.M4)("Activation/Deactivation",{"deactivate all":(0,v.LI)(P["deactivate all"]),"activate all":(0,v.LI)(P["activate all"])}),(0,v.M4)("Pausing/Stepping",{"pause/continue":(0,v.LI)(P["pause/continue"]),"make single step":(0,v.LI)((function(e){return P["make single step"](e("Pausing/Stepping.modify step size"))})),"modify step size":{value:P["modify step size"],max:.1,min:.01,step:.001}}),(0,v.M4)("Crossfading",{"from walk to idle":(0,v.LI)(P["from walk to idle"]),"from idle to walk":(0,v.LI)(P["from idle to walk"]),"from walk to run":(0,v.LI)(P["from walk to run"]),"from run to walk":(0,v.LI)(P["from run to walk"]),"use default duration":P["use default duration"],"set custom duration":{value:P["set custom duration"],max:10,min:0,step:.01}}),(0,v.M4)("Blend Weights",{"modify idle weight":{value:P["modify idle weight"],max:1,min:0,step:.01,onChange:function(e){b(f,e)}},"modify walk weight":{value:P["modify walk weight"],max:1,min:0,step:.01,onChange:function(e){b(u,e)}},"modify run weight":{value:P["modify run weight"],max:1,min:0,step:.01,onChange:function(e){b(c,e)}}}),(0,v.M4)("General Speed",{"modify time scale":{value:P["modify time scale"],max:1.5,min:0,step:.01,onChange:I}}),null};t.default=function(){return(0,x.jsxs)(g.Xz,{camera:{position:[1,2,-3],fov:45,near:1,far:1e3},dpr:[1,2],shadows:!0,onCreated:function(e){e.camera.lookAt(0,1,0)},children:[(0,x.jsx)("color",{attach:"background",args:[10526880]}),(0,x.jsx)("fog",{attach:"fog",color:10526880,near:10,far:50}),(0,x.jsx)("hemisphereLight",{color:16777215,groundColor:4473924,position:[0,20,0]}),(0,x.jsx)("directionalLight",{color:16777215,position:[-3,10,-10],castShadow:!0,children:(0,x.jsx)("orthographicCamera",{attach:"shadow-camera",args:[-2,2,2,-2,.1,40]})}),(0,x.jsx)(G,{}),(0,x.jsx)(F,{}),(0,x.jsx)(T,{})]})}},536:function(e,t,i){e.exports=i.p+"static/media/Soldier.f4f71ae8abedd78e209b.glb"}}]);
//# sourceMappingURL=746.02b8f687.chunk.js.map