"use strict";(self.webpackChunkthreejs_examples_with_fiber=self.webpackChunkthreejs_examples_with_fiber||[]).push([[520],{3520:function(e,t,n){n.d(t,{z:function(){return v}});var o=n(4925),a=n(7462),r=n(2794),i=n(2791),c=n(3144),l=n(5671),s=n(7326),u=n(136),m=n(9388),p=n(4942),d=n(7760),h=function(e,t){return(e%t+t)%t},b=function(e){(0,u.Z)(n,e);var t=(0,m.Z)(n);function n(e,o){var a;(0,l.Z)(this,n),a=t.call(this),(0,p.Z)((0,s.Z)(a),"object",void 0),(0,p.Z)((0,s.Z)(a),"domElement",void 0),(0,p.Z)((0,s.Z)(a),"enabled",!0),(0,p.Z)((0,s.Z)(a),"target",new d.Vector3),(0,p.Z)((0,s.Z)(a),"minDistance",0),(0,p.Z)((0,s.Z)(a),"maxDistance",1/0),(0,p.Z)((0,s.Z)(a),"minZoom",0),(0,p.Z)((0,s.Z)(a),"maxZoom",1/0),(0,p.Z)((0,s.Z)(a),"minPolarAngle",0),(0,p.Z)((0,s.Z)(a),"maxPolarAngle",Math.PI),(0,p.Z)((0,s.Z)(a),"minAzimuthAngle",-1/0),(0,p.Z)((0,s.Z)(a),"maxAzimuthAngle",1/0),(0,p.Z)((0,s.Z)(a),"enableDamping",!1),(0,p.Z)((0,s.Z)(a),"dampingFactor",.05),(0,p.Z)((0,s.Z)(a),"enableZoom",!0),(0,p.Z)((0,s.Z)(a),"zoomSpeed",1),(0,p.Z)((0,s.Z)(a),"enableRotate",!0),(0,p.Z)((0,s.Z)(a),"rotateSpeed",1),(0,p.Z)((0,s.Z)(a),"enablePan",!0),(0,p.Z)((0,s.Z)(a),"panSpeed",1),(0,p.Z)((0,s.Z)(a),"screenSpacePanning",!0),(0,p.Z)((0,s.Z)(a),"keyPanSpeed",7),(0,p.Z)((0,s.Z)(a),"autoRotate",!1),(0,p.Z)((0,s.Z)(a),"autoRotateSpeed",2),(0,p.Z)((0,s.Z)(a),"reverseOrbit",!1),(0,p.Z)((0,s.Z)(a),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),(0,p.Z)((0,s.Z)(a),"mouseButtons",{LEFT:d.MOUSE.ROTATE,MIDDLE:d.MOUSE.DOLLY,RIGHT:d.MOUSE.PAN}),(0,p.Z)((0,s.Z)(a),"touches",{ONE:d.TOUCH.ROTATE,TWO:d.TOUCH.DOLLY_PAN}),(0,p.Z)((0,s.Z)(a),"target0",void 0),(0,p.Z)((0,s.Z)(a),"position0",void 0),(0,p.Z)((0,s.Z)(a),"zoom0",void 0),(0,p.Z)((0,s.Z)(a),"_domElementKeyEvents",null),(0,p.Z)((0,s.Z)(a),"getPolarAngle",void 0),(0,p.Z)((0,s.Z)(a),"getAzimuthalAngle",void 0),(0,p.Z)((0,s.Z)(a),"setPolarAngle",void 0),(0,p.Z)((0,s.Z)(a),"setAzimuthalAngle",void 0),(0,p.Z)((0,s.Z)(a),"getDistance",void 0),(0,p.Z)((0,s.Z)(a),"listenToKeyEvents",void 0),(0,p.Z)((0,s.Z)(a),"saveState",void 0),(0,p.Z)((0,s.Z)(a),"reset",void 0),(0,p.Z)((0,s.Z)(a),"update",void 0),(0,p.Z)((0,s.Z)(a),"connect",void 0),(0,p.Z)((0,s.Z)(a),"dispose",void 0),a.object=e,a.domElement=o,a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.zoom0=a.object instanceof d.PerspectiveCamera?a.object.zoom:1,a.getPolarAngle=function(){return v.phi},a.getAzimuthalAngle=function(){return v.theta},a.setPolarAngle=function(e){var t=h(e,2*Math.PI),n=v.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var o=Math.abs(t-n);2*Math.PI-o<o&&(t<n?t+=2*Math.PI:n+=2*Math.PI),E.phi=t-n,r.update()},a.setAzimuthalAngle=function(e){var t=h(e,2*Math.PI),n=v.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var o=Math.abs(t-n);2*Math.PI-o<o&&(t<n?t+=2*Math.PI:n+=2*Math.PI),E.theta=t-n,r.update()},a.getDistance=function(){return r.object.position.distanceTo(r.target)},a.listenToKeyEvents=function(e){e.addEventListener("keydown",ee),a._domElementKeyEvents=e},a.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof d.PerspectiveCamera?r.object.zoom:1},a.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof d.PerspectiveCamera&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),b=m.NONE},a.update=function(){var t=new d.Vector3,n=(new d.Quaternion).setFromUnitVectors(e.up,new d.Vector3(0,1,0)),o=n.clone().invert(),a=new d.Vector3,c=new d.Quaternion,l=2*Math.PI;return function(){var e=r.object.position;t.copy(e).sub(r.target),t.applyQuaternion(n),v.setFromVector3(t),r.autoRotate&&b===m.NONE&&I(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(v.theta+=E.theta*r.dampingFactor,v.phi+=E.phi*r.dampingFactor):(v.theta+=E.theta,v.phi+=E.phi);var s=r.minAzimuthAngle,u=r.maxAzimuthAngle;return isFinite(s)&&isFinite(u)&&(s<-Math.PI?s+=l:s>Math.PI&&(s-=l),u<-Math.PI?u+=l:u>Math.PI&&(u-=l),v.theta=s<=u?Math.max(s,Math.min(u,v.theta)):v.theta>(s+u)/2?Math.max(s,v.theta):Math.min(u,v.theta)),v.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,v.phi)),v.makeSafe(),v.radius*=g,v.radius=Math.max(r.minDistance,Math.min(r.maxDistance,v.radius)),!0===r.enableDamping?r.target.addScaledVector(Z,r.dampingFactor):r.target.add(Z),t.setFromSpherical(v),t.applyQuaternion(o),e.copy(r.target).add(t),r.object.lookAt(r.target),!0===r.enableDamping?(E.theta*=1-r.dampingFactor,E.phi*=1-r.dampingFactor,Z.multiplyScalar(1-r.dampingFactor)):(E.set(0,0,0),Z.set(0,0,0)),g=1,!!(O||a.distanceToSquared(r.object.position)>f||8*(1-c.dot(r.object.quaternion))>f)&&(r.dispatchEvent(i),a.copy(r.object.position),c.copy(r.object.quaternion),O=!1,!0)}}(),a.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=e,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",te),r.domElement.addEventListener("pointerdown",W),r.domElement.addEventListener("pointercancel",J),r.domElement.addEventListener("wheel",$)},a.dispose=function(){var e,t,n,o,a,i;null===(e=r.domElement)||void 0===e||e.removeEventListener("contextmenu",te),null===(t=r.domElement)||void 0===t||t.removeEventListener("pointerdown",W),null===(n=r.domElement)||void 0===n||n.removeEventListener("pointercancel",J),null===(o=r.domElement)||void 0===o||o.removeEventListener("wheel",$),null===(a=r.domElement)||void 0===a||a.ownerDocument.removeEventListener("pointermove",q),null===(i=r.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointerup",Q),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",ee)};var r=(0,s.Z)(a),i={type:"change"},c={type:"start"},u={type:"end"},m={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},b=m.NONE,f=1e-6,v=new d.Spherical,E=new d.Spherical,g=1,Z=new d.Vector3,O=!1,P=new d.Vector2,y=new d.Vector2,T=new d.Vector2,w=new d.Vector2,A=new d.Vector2,M=new d.Vector2,j=new d.Vector2,L=new d.Vector2,N=new d.Vector2,C=[],k={};function D(){return Math.pow(.95,r.zoomSpeed)}function I(e){r.reverseOrbit?E.theta+=e:E.theta-=e}function S(e){r.reverseOrbit?E.phi+=e:E.phi-=e}var R=function(){var e=new d.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),Z.add(e)}}(),x=function(){var e=new d.Vector3;return function(t,n){!0===r.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),Z.add(e)}}(),Y=function(){var e=new d.Vector3;return function(t,n){var o=r.domElement;if(o&&r.object instanceof d.PerspectiveCamera&&r.object.isPerspectiveCamera){var a=r.object.position;e.copy(a).sub(r.target);var i=e.length();i*=Math.tan(r.object.fov/2*Math.PI/180),R(2*t*i/o.clientHeight,r.object.matrix),x(2*n*i/o.clientHeight,r.object.matrix)}else o&&r.object instanceof d.OrthographicCamera&&r.object.isOrthographicCamera?(R(t*(r.object.right-r.object.left)/r.object.zoom/o.clientWidth,r.object.matrix),x(n*(r.object.top-r.object.bottom)/r.object.zoom/o.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function _(e){r.object instanceof d.PerspectiveCamera&&r.object.isPerspectiveCamera?g/=e:r.object instanceof d.OrthographicCamera&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e)),r.object.updateProjectionMatrix(),O=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(e){r.object instanceof d.PerspectiveCamera&&r.object.isPerspectiveCamera?g*=e:r.object instanceof d.OrthographicCamera&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e)),r.object.updateProjectionMatrix(),O=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function U(e){P.set(e.clientX,e.clientY)}function z(e){w.set(e.clientX,e.clientY)}function V(){if(1==C.length)P.set(C[0].pageX,C[0].pageY);else{var e=.5*(C[0].pageX+C[1].pageX),t=.5*(C[0].pageY+C[1].pageY);P.set(e,t)}}function X(){if(1==C.length)w.set(C[0].pageX,C[0].pageY);else{var e=.5*(C[0].pageX+C[1].pageX),t=.5*(C[0].pageY+C[1].pageY);w.set(e,t)}}function F(){var e=C[0].pageX-C[1].pageX,t=C[0].pageY-C[1].pageY,n=Math.sqrt(e*e+t*t);j.set(0,n)}function K(e){if(1==C.length)y.set(e.pageX,e.pageY);else{var t=ae(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);y.set(n,o)}T.subVectors(y,P).multiplyScalar(r.rotateSpeed);var a=r.domElement;a&&(I(2*Math.PI*T.x/a.clientHeight),S(2*Math.PI*T.y/a.clientHeight)),P.copy(y)}function G(e){if(1==C.length)A.set(e.pageX,e.pageY);else{var t=ae(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);A.set(n,o)}M.subVectors(A,w).multiplyScalar(r.panSpeed),Y(M.x,M.y),w.copy(A)}function B(e){var t=ae(e),n=e.pageX-t.x,o=e.pageY-t.y,a=Math.sqrt(n*n+o*o);L.set(0,a),N.set(0,Math.pow(L.y/j.y,r.zoomSpeed)),_(N.y),j.copy(L)}function W(e){if(!1!==r.enabled){var t,n;if(0===C.length)null===(t=r.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",q),null===(n=r.domElement)||void 0===n||n.ownerDocument.addEventListener("pointerup",Q);!function(e){C.push(e)}(e),"touch"===e.pointerType?function(e){switch(oe(e),C.length){case 1:switch(r.touches.ONE){case d.TOUCH.ROTATE:if(!1===r.enableRotate)return;V(),b=m.TOUCH_ROTATE;break;case d.TOUCH.PAN:if(!1===r.enablePan)return;X(),b=m.TOUCH_PAN;break;default:b=m.NONE}break;case 2:switch(r.touches.TWO){case d.TOUCH.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&F(),r.enablePan&&X(),b=m.TOUCH_DOLLY_PAN;break;case d.TOUCH.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&F(),r.enableRotate&&V(),b=m.TOUCH_DOLLY_ROTATE;break;default:b=m.NONE}break;default:b=m.NONE}b!==m.NONE&&r.dispatchEvent(c)}(e):function(e){var t;switch(e.button){case 0:t=r.mouseButtons.LEFT;break;case 1:t=r.mouseButtons.MIDDLE;break;case 2:t=r.mouseButtons.RIGHT;break;default:t=-1}switch(t){case d.MOUSE.DOLLY:if(!1===r.enableZoom)return;!function(e){j.set(e.clientX,e.clientY)}(e),b=m.DOLLY;break;case d.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enablePan)return;z(e),b=m.PAN}else{if(!1===r.enableRotate)return;U(e),b=m.ROTATE}break;case d.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enableRotate)return;U(e),b=m.ROTATE}else{if(!1===r.enablePan)return;z(e),b=m.PAN}break;default:b=m.NONE}b!==m.NONE&&r.dispatchEvent(c)}(e)}}function q(e){!1!==r.enabled&&("touch"===e.pointerType?function(e){switch(oe(e),b){case m.TOUCH_ROTATE:if(!1===r.enableRotate)return;K(e),r.update();break;case m.TOUCH_PAN:if(!1===r.enablePan)return;G(e),r.update();break;case m.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(e){r.enableZoom&&B(e),r.enablePan&&G(e)}(e),r.update();break;case m.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;!function(e){r.enableZoom&&B(e),r.enableRotate&&K(e)}(e),r.update();break;default:b=m.NONE}}(e):function(e){if(!1===r.enabled)return;switch(b){case m.ROTATE:if(!1===r.enableRotate)return;!function(e){y.set(e.clientX,e.clientY),T.subVectors(y,P).multiplyScalar(r.rotateSpeed);var t=r.domElement;t&&(I(2*Math.PI*T.x/t.clientHeight),S(2*Math.PI*T.y/t.clientHeight)),P.copy(y),r.update()}(e);break;case m.DOLLY:if(!1===r.enableZoom)return;!function(e){L.set(e.clientX,e.clientY),N.subVectors(L,j),N.y>0?_(D()):N.y<0&&H(D()),j.copy(L),r.update()}(e);break;case m.PAN:if(!1===r.enablePan)return;!function(e){A.set(e.clientX,e.clientY),M.subVectors(A,w).multiplyScalar(r.panSpeed),Y(M.x,M.y),w.copy(A),r.update()}(e)}}(e))}function Q(e){var t,n,o;(ne(e),0===C.length)&&(null===(t=r.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(n=r.domElement)||void 0===n||n.ownerDocument.removeEventListener("pointermove",q),null===(o=r.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointerup",Q));r.dispatchEvent(u),b=m.NONE}function J(e){ne(e)}function $(e){!1===r.enabled||!1===r.enableZoom||b!==m.NONE&&b!==m.ROTATE||(e.preventDefault(),r.dispatchEvent(c),function(e){e.deltaY<0?H(D()):e.deltaY>0&&_(D()),r.update()}(e),r.dispatchEvent(u))}function ee(e){!1!==r.enabled&&!1!==r.enablePan&&function(e){var t=!1;switch(e.code){case r.keys.UP:Y(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:Y(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:Y(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:Y(-r.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),r.update())}(e)}function te(e){!1!==r.enabled&&e.preventDefault()}function ne(e){delete k[e.pointerId];for(var t=0;t<C.length;t++)if(C[t].pointerId==e.pointerId)return void C.splice(t,1)}function oe(e){var t=k[e.pointerId];void 0===t&&(t=new d.Vector2,k[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ae(e){var t=e.pointerId===C[0].pointerId?C[1]:C[0];return k[t.pointerId]}return void 0!==o&&a.connect(o),a.update(),a}return(0,c.Z)(n)}(d.EventDispatcher),f=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],v=i.forwardRef((function(e,t){var n=e.makeDefault,c=e.camera,l=e.regress,s=e.domElement,u=e.enableDamping,m=void 0===u||u,p=e.onChange,d=e.onStart,h=e.onEnd,v=(0,o.Z)(e,f),E=(0,r.w)((function(e){return e.invalidate})),g=(0,r.w)((function(e){return e.camera})),Z=(0,r.w)((function(e){return e.gl})),O=(0,r.w)((function(e){return e.events})),P=(0,r.w)((function(e){return e.set})),y=(0,r.w)((function(e){return e.get})),T=(0,r.w)((function(e){return e.performance})),w=c||g,A=s||O.connected||Z.domElement,M=i.useMemo((function(){return new b(w)}),[w]);return(0,r.x)((function(){M.enabled&&M.update()}),-1),i.useEffect((function(){return M.connect(A),function(){M.dispose()}}),[A,l,M,E]),i.useEffect((function(){var e=function(e){E(),l&&T.regress(),p&&p(e)};return M.addEventListener("change",e),d&&M.addEventListener("start",d),h&&M.addEventListener("end",h),function(){d&&M.removeEventListener("start",d),h&&M.removeEventListener("end",h),M.removeEventListener("change",e)}}),[p,d,h]),i.useEffect((function(){if(n){var e=y().controls;return P({controls:M}),function(){return P({controls:e})}}}),[n,M]),i.createElement("primitive",(0,a.Z)({ref:t,object:M,enableDamping:m},v))}))}}]);
//# sourceMappingURL=520.b75e6bf9.chunk.js.map