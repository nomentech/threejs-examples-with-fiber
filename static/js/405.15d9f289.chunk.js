"use strict";(self.webpackChunkthreejs_examples_with_fiber=self.webpackChunkthreejs_examples_with_fiber||[]).push([[405],{4405:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var a=o(2791),r=o(7760),n=o(7133),i=function(){for(var e=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],t=0;t<256;t++)e[256+t]=e[t];function o(e){return e*e*e*(e*(6*e-15)+10)}function a(e,t,o){return t+e*(o-t)}function r(e,t,o,a){var r=15&e,n=r<8?t:o,i=r<4?o:12==r||14==r?t:a;return(0==(1&r)?n:-n)+(0==(2&r)?i:-i)}return{noise:function(t,n,i){var u=Math.floor(t),c=Math.floor(n),l=Math.floor(i),s=255&u,m=255&c,v=255&l,d=(t-=u)-1,Z=(n-=c)-1,f=(i-=l)-1,h=o(t),p=o(n),A=o(i),w=e[s]+m,y=e[w]+v,b=e[w+1]+v,M=e[s+1]+m,L=e[M]+v,B=e[M+1]+v;return a(A,a(p,a(h,r(e[y],t,n,i),r(e[L],d,n,i)),a(h,r(e[b],t,Z,i),r(e[B],d,Z,i))),a(p,a(h,r(e[y+1],t,n,f),r(e[L+1],d,n,f)),a(h,r(e[b+1],t,Z,f),r(e[B+1],d,Z,f))))}}},u=o(4647),c=o(9740),l=o(9502),s=o(184),m=128,v=128,d=function(e,t){for(var o=[],a=new i,r=e*t,n=100*Math.random(),u=2,c=0;c<4;c++){if(0===c)for(var l=0;l<r;l++)o[l]=0;for(var s=0;s<r;s++){var m=s%e,v=s/e|0;o[s]+=a.noise(m/u,v/u,n)*u}u*=4}return o}(m,v);function Z(e,t){return.15*d[e+t*m]|0}var f=function(){var e=(0,c.m)("data:image/png;base64,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");e.magFilter=r.NearestFilter;var t=(0,a.useMemo)((function(){var e=new r.PlaneGeometry(100,100);e.attributes.uv.array[1]=.5,e.attributes.uv.array[3]=.5,e.rotateY(Math.PI/2),e.translate(50,0,0);var t=new r.PlaneGeometry(100,100);t.attributes.uv.array[1]=.5,t.attributes.uv.array[3]=.5,t.rotateY(-Math.PI/2),t.translate(-50,0,0);var o=new r.PlaneGeometry(100,100);o.attributes.uv.array[5]=.5,o.attributes.uv.array[7]=.5,o.rotateX(-Math.PI/2),o.translate(0,50,0);var a=new r.PlaneGeometry(100,100);a.attributes.uv.array[1]=.5,a.attributes.uv.array[3]=.5,a.translate(0,0,50);var i=new r.PlaneGeometry(100,100);i.attributes.uv.array[1]=.5,i.attributes.uv.array[3]=.5,i.rotateY(Math.PI),i.translate(0,0,-50);for(var u=new r.Matrix4,c=[],l=0;l<v;l++)for(var s=0;s<m;s++){var d=Z(s,l);u.makeTranslation(100*s-6400,100*d,100*l-6400);var f=Z(s+1,l),h=Z(s-1,l),p=Z(s,l+1),A=Z(s,l-1);c.push(o.clone().applyMatrix4(u)),(f!==d&&f!==d+1||0===s)&&c.push(e.clone().applyMatrix4(u)),(h!==d&&h!==d+1||127===s)&&c.push(t.clone().applyMatrix4(u)),(p!==d&&p!==d+1||127===l)&&c.push(a.clone().applyMatrix4(u)),(A!==d&&A!==d+1||0===l)&&c.push(i.clone().applyMatrix4(u))}var w=n.qf(c);return w.computeBoundingSphere(),w}),[]);return(0,s.jsx)("mesh",{geometry:t,children:(0,s.jsx)("meshLambertMaterial",{map:e,side:r.DoubleSide})})},h=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute left-[50%] top-2 z-10",children:"(left click: forward, right click: backward)"}),(0,s.jsxs)(u.Xz,{camera:{position:[0,Z(64,64),0],fov:60,near:1,far:2e4},gl:{antialias:!0},children:[(0,s.jsx)("color",{attach:"background",args:[12571109]}),(0,s.jsx)("ambientLight",{args:[13421772]}),(0,s.jsx)("directionalLight",{args:[16777215,2],position:[1,1,.5]}),(0,s.jsx)(f,{}),(0,s.jsx)(l.o,{movementSpeed:1e3,lookSpeed:.125,lookVertical:!0})]})]})}},9502:function(e,t,o){o.d(t,{o:function(){return A}});var a=o(9439),r=o(4925),n=o(7462),i=o(2791),u=o(2794),c=o(3144),l=o(5671),s=o(7326),m=o(136),v=o(9388),d=o(4942),Z=o(7760),f=new Z.Vector3,h=function(e){(0,m.Z)(o,e);var t=(0,v.Z)(o);function o(e,a){var r;return(0,l.Z)(this,o),r=t.call(this),(0,d.Z)((0,s.Z)(r),"object",void 0),(0,d.Z)((0,s.Z)(r),"domElement",void 0),(0,d.Z)((0,s.Z)(r),"enabled",!0),(0,d.Z)((0,s.Z)(r),"movementSpeed",1),(0,d.Z)((0,s.Z)(r),"lookSpeed",.005),(0,d.Z)((0,s.Z)(r),"lookVertical",!0),(0,d.Z)((0,s.Z)(r),"autoForward",!1),(0,d.Z)((0,s.Z)(r),"activeLook",!0),(0,d.Z)((0,s.Z)(r),"heightSpeed",!1),(0,d.Z)((0,s.Z)(r),"heightCoef",1),(0,d.Z)((0,s.Z)(r),"heightMin",0),(0,d.Z)((0,s.Z)(r),"heightMax",1),(0,d.Z)((0,s.Z)(r),"constrainVertical",!1),(0,d.Z)((0,s.Z)(r),"verticalMin",0),(0,d.Z)((0,s.Z)(r),"verticalMax",Math.PI),(0,d.Z)((0,s.Z)(r),"mouseDragOn",!1),(0,d.Z)((0,s.Z)(r),"autoSpeedFactor",0),(0,d.Z)((0,s.Z)(r),"mouseX",0),(0,d.Z)((0,s.Z)(r),"mouseY",0),(0,d.Z)((0,s.Z)(r),"moveForward",!1),(0,d.Z)((0,s.Z)(r),"moveBackward",!1),(0,d.Z)((0,s.Z)(r),"moveLeft",!1),(0,d.Z)((0,s.Z)(r),"moveRight",!1),(0,d.Z)((0,s.Z)(r),"moveUp",!1),(0,d.Z)((0,s.Z)(r),"moveDown",!1),(0,d.Z)((0,s.Z)(r),"viewHalfX",0),(0,d.Z)((0,s.Z)(r),"viewHalfY",0),(0,d.Z)((0,s.Z)(r),"lat",0),(0,d.Z)((0,s.Z)(r),"lon",0),(0,d.Z)((0,s.Z)(r),"lookDirection",new Z.Vector3),(0,d.Z)((0,s.Z)(r),"spherical",new Z.Spherical),(0,d.Z)((0,s.Z)(r),"target",new Z.Vector3),(0,d.Z)((0,s.Z)(r),"connect",(function(e){e.setAttribute("tabindex","-1"),e.style.touchAction="none",e.addEventListener("contextmenu",r.contextmenu),e.addEventListener("mousemove",r.onMouseMove),e.addEventListener("mousedown",r.onMouseDown),e.addEventListener("mouseup",r.onMouseUp),r.domElement=e,window.addEventListener("keydown",r.onKeyDown),window.addEventListener("keyup",r.onKeyUp),r.handleResize()})),(0,d.Z)((0,s.Z)(r),"dispose",(function(){var e,t,o,a;null===(e=r.domElement)||void 0===e||e.removeEventListener("contextmenu",r.contextmenu),null===(t=r.domElement)||void 0===t||t.removeEventListener("mousedown",r.onMouseDown),null===(o=r.domElement)||void 0===o||o.removeEventListener("mousemove",r.onMouseMove),null===(a=r.domElement)||void 0===a||a.removeEventListener("mouseup",r.onMouseUp),window.removeEventListener("keydown",r.onKeyDown),window.removeEventListener("keyup",r.onKeyUp)})),(0,d.Z)((0,s.Z)(r),"handleResize",(function(){r.domElement&&(r.viewHalfX=r.domElement.offsetWidth/2,r.viewHalfY=r.domElement.offsetHeight/2)})),(0,d.Z)((0,s.Z)(r),"onMouseDown",(function(e){var t;if(null===(t=r.domElement)||void 0===t||t.focus(),r.activeLook)switch(e.button){case 0:r.moveForward=!0;break;case 2:r.moveBackward=!0}r.mouseDragOn=!0})),(0,d.Z)((0,s.Z)(r),"onMouseUp",(function(e){if(r.activeLook)switch(e.button){case 0:r.moveForward=!1;break;case 2:r.moveBackward=!1}r.mouseDragOn=!1})),(0,d.Z)((0,s.Z)(r),"onMouseMove",(function(e){r.domElement&&(r.mouseX=e.pageX-r.domElement.offsetLeft-r.viewHalfX,r.mouseY=e.pageY-r.domElement.offsetTop-r.viewHalfY)})),(0,d.Z)((0,s.Z)(r),"onKeyDown",(function(e){switch(e.code){case"ArrowUp":case"KeyW":r.moveForward=!0;break;case"ArrowLeft":case"KeyA":r.moveLeft=!0;break;case"ArrowDown":case"KeyS":r.moveBackward=!0;break;case"ArrowRight":case"KeyD":r.moveRight=!0;break;case"KeyR":r.moveUp=!0;break;case"KeyF":r.moveDown=!0}})),(0,d.Z)((0,s.Z)(r),"onKeyUp",(function(e){switch(e.code){case"ArrowUp":case"KeyW":r.moveForward=!1;break;case"ArrowLeft":case"KeyA":r.moveLeft=!1;break;case"ArrowDown":case"KeyS":r.moveBackward=!1;break;case"ArrowRight":case"KeyD":r.moveRight=!1;break;case"KeyR":r.moveUp=!1;break;case"KeyF":r.moveDown=!1}})),(0,d.Z)((0,s.Z)(r),"lookAt",(function(e,t,o){return e instanceof Z.Vector3?r.target.copy(e):t&&o&&r.target.set(e,t,o),r.object.lookAt(r.target),r.setOrientation(),(0,s.Z)(r)})),(0,d.Z)((0,s.Z)(r),"update",(function(e){if(r.enabled){if(r.heightSpeed){var t=Z.MathUtils.clamp(r.object.position.y,r.heightMin,r.heightMax)-r.heightMin;r.autoSpeedFactor=e*(t*r.heightCoef)}else r.autoSpeedFactor=0;var o=e*r.movementSpeed;(r.moveForward||r.autoForward&&!r.moveBackward)&&r.object.translateZ(-(o+r.autoSpeedFactor)),r.moveBackward&&r.object.translateZ(o),r.moveLeft&&r.object.translateX(-o),r.moveRight&&r.object.translateX(o),r.moveUp&&r.object.translateY(o),r.moveDown&&r.object.translateY(-o);var a=e*r.lookSpeed;r.activeLook||(a=0);var n=1;r.constrainVertical&&(n=Math.PI/(r.verticalMax-r.verticalMin)),r.lon-=r.mouseX*a,r.lookVertical&&(r.lat-=r.mouseY*a*n),r.lat=Math.max(-85,Math.min(85,r.lat));var i=Z.MathUtils.degToRad(90-r.lat),u=Z.MathUtils.degToRad(r.lon);r.constrainVertical&&(i=Z.MathUtils.mapLinear(i,0,Math.PI,r.verticalMin,r.verticalMax));var c=r.object.position;f.setFromSphericalCoords(1,i,u).add(c),r.object.lookAt(f)}})),(0,d.Z)((0,s.Z)(r),"contextmenu",(function(e){return e.preventDefault()})),(0,d.Z)((0,s.Z)(r),"setOrientation",(function(){r.lookDirection.set(0,0,-1).applyQuaternion(r.object.quaternion),r.spherical.setFromVector3(r.lookDirection),r.lat=90-Z.MathUtils.radToDeg(r.spherical.phi),r.lon=Z.MathUtils.radToDeg(r.spherical.theta)})),r.object=e,r.domElement=a,r.setOrientation(),a&&r.connect(a),r}return(0,c.Z)(o)}(Z.EventDispatcher),p=["domElement"],A=i.forwardRef((function(e,t){var o=e.domElement,c=(0,r.Z)(e,p),l=(0,u.w)((function(e){return e.camera})),s=(0,u.w)((function(e){return e.gl})),m=(0,u.w)((function(e){return e.events})),v=o||m.connected||s.domElement,d=i.useState((function(){return new h(l,v)})),Z=(0,a.Z)(d,1)[0];return(0,u.x)((function(e,t){Z.update(t)}),-1),Z?i.createElement("primitive",(0,n.Z)({ref:t,object:Z},c)):null}))}}]);
//# sourceMappingURL=405.15d9f289.chunk.js.map