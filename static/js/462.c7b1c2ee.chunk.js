"use strict";(self.webpackChunkthreejs_examples_with_fiber=self.webpackChunkthreejs_examples_with_fiber||[]).push([[462],{5462:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s=n(2791),r=n(4647),a=n(7219),i=n(9439),o=n(323);var c=n(3655),u=n(3520),l=n(3144),d=n(5671),f=n(136),v=n(9388),h=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,d.Z)(this,n),e=t.call(this);var s=new o.BoxGeometry;s.deleteAttribute("uv");var r=new o.MeshStandardMaterial({side:o.BackSide}),a=new o.MeshStandardMaterial,i=new o.PointLight(16777215,5,28,2);i.position.set(.418,16.199,.3),e.add(i);var c=new o.Mesh(s,r);c.position.set(-.757,13.219,.717),c.scale.set(31.713,28.305,28.591),e.add(c);var u=new o.Mesh(s,a);u.position.set(-10.906,2.009,1.846),u.rotation.set(0,-.195,0),u.scale.set(2.328,7.905,4.651),e.add(u);var l=new o.Mesh(s,a);l.position.set(-5.607,-.754,-.758),l.rotation.set(0,.994,0),l.scale.set(1.97,1.534,3.955),e.add(l);var f=new o.Mesh(s,a);f.position.set(6.167,.857,7.803),f.rotation.set(0,.561,0),f.scale.set(3.927,6.285,3.687),e.add(f);var v=new o.Mesh(s,a);v.position.set(-2.017,.018,6.124),v.rotation.set(0,.333,0),v.scale.set(2.002,4.566,2.064),e.add(v);var h=new o.Mesh(s,a);h.position.set(2.291,-.756,-2.621),h.rotation.set(0,-.286,0),h.scale.set(1.546,1.552,1.496),e.add(h);var w=new o.Mesh(s,a);w.position.set(-2.193,-.369,-5.547),w.rotation.set(0,.516,0),w.scale.set(3.875,3.487,2.986),e.add(w);var M=new o.Mesh(s,p(50));M.position.set(-16.116,14.37,8.208),M.scale.set(.1,2.428,2.739),e.add(M);var m=new o.Mesh(s,p(50));m.position.set(-16.109,18.021,-8.207),m.scale.set(.1,2.425,2.751),e.add(m);var b=new o.Mesh(s,p(17));b.position.set(14.904,12.198,-1.832),b.scale.set(.15,4.265,6.331),e.add(b);var x=new o.Mesh(s,p(43));x.position.set(-.462,8.89,14.52),x.scale.set(4.38,5.441,.088),e.add(x);var j=new o.Mesh(s,p(20));j.position.set(3.235,11.486,-12.541),j.scale.set(2.5,2,.1),e.add(j);var S=new o.Mesh(s,p(100));return S.position.set(0,20,0),S.scale.set(1,.1,1),e.add(S),e}return(0,l.Z)(n)}(o.Scene);function p(e){var t=new o.MeshBasicMaterial;return t.color.setScalar(e),t}var w=n(184),M="".concat("/threejs-examples-with-fiber","/models/LittlestTokyo.glb");c.L.preload(M);var m=function(){var e=(0,a.w)(),t=e.gl,n=e.scene,s=new o.PMREMGenerator(t);return n.environment=s.fromScene(new h,.04).texture,n.background=new o.Color(12575709),null},b=function(){var e=(0,c.L)(M),t=e.scene,n=function(e,t){var n=s.useRef(),r=s.useState((function(){return t?t instanceof o.Object3D?{current:t}:t:n})),c=(0,i.Z)(r,1)[0],u=s.useState((function(){return new o.AnimationMixer(void 0)})),l=(0,i.Z)(u,1)[0],d=s.useRef({}),f=s.useState((function(){var t={};return e.forEach((function(e){return Object.defineProperty(t,e.name,{enumerable:!0,get:function(){if(c.current)return d.current[e.name]||(d.current[e.name]=l.clipAction(e,c.current))}})})),{ref:c,clips:e,actions:t,names:e.map((function(e){return e.name})),mixer:l}})),v=(0,i.Z)(f,1)[0];return(0,a.x)((function(e,t){return l.update(t)})),s.useEffect((function(){var e=c.current;return function(){d.current={},Object.values(v.actions).forEach((function(t){e&&l.uncacheAction(t,e)}))}}),[e]),v}(e.animations,t),r=n.actions;return(0,s.useEffect)((function(){var e;null===(e=r["Take 001"])||void 0===e||e.play()}),[r,t]),(0,w.jsx)("primitive",{object:t,scale:[.01,.01,.01],position:[1,1,0]})},x=function(){return(0,w.jsxs)(r.Xz,{camera:{position:[5,2,8],fov:40,near:1,far:100},dpr:[1,2],children:[(0,w.jsx)(m,{}),(0,w.jsx)(s.Suspense,{fallback:null,children:(0,w.jsx)(b,{})}),(0,w.jsx)(u.z,{target:[0,.5,0]})]})}}}]);
//# sourceMappingURL=462.c7b1c2ee.chunk.js.map