"use strict";(self.webpackChunkthreejs_examples_with_fiber=self.webpackChunkthreejs_examples_with_fiber||[]).push([[371],{6710:function(e,r,t){t.d(r,{Pf:function(){return i},Uv:function(){return o},fx:function(){return n}});var n=window.innerWidth>640?window.innerWidth-300:window.innerWidth,o=window.innerWidth>640?window.innerHeight:window.innerHeight-48,i=n/o},4371:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(3433),o=t(2791),i=t(7760),a=function(e){var r,t,n,o=this;o.cameraDistance=15,o.reflectFromAbove=!1;var a=new i.PerspectiveCamera,s=new i.PerspectiveCamera,c=new i.PerspectiveCamera,u=new i.PerspectiveCamera,p=new i.Vector3,l=new i.Quaternion,d=new i.Vector3;e.autoClear=!1,this.setSize=function(o,i){r=o/2,o<i?(t=o/3,n=o/3):(t=i/3,n=i/3),e.setSize(o,i)},this.render=function(i,f){i.updateMatrixWorld(),null===f.parent&&f.updateMatrixWorld(),f.matrixWorld.decompose(p,l,d),a.position.copy(p),a.quaternion.copy(l),a.translateZ(o.cameraDistance),a.lookAt(i.position),s.position.copy(p),s.quaternion.copy(l),s.translateZ(-o.cameraDistance),s.lookAt(i.position),s.rotation.z+=Math.PI/180*180,c.position.copy(p),c.quaternion.copy(l),c.translateX(-o.cameraDistance),c.lookAt(i.position),c.rotation.x+=Math.PI/180*90,u.position.copy(p),u.quaternion.copy(l),u.translateX(o.cameraDistance),u.lookAt(i.position),u.rotation.x+=Math.PI/180*90,e.clear(),e.setScissorTest(!0),e.setScissor(r-t/2,2*n,t,n),e.setViewport(r-t/2,2*n,t,n),o.reflectFromAbove?e.render(i,s):e.render(i,a),e.setScissor(r-t/2,0,t,n),e.setViewport(r-t/2,0,t,n),o.reflectFromAbove?e.render(i,a):e.render(i,s),e.setScissor(r-t/2-t,n,t,n),e.setViewport(r-t/2-t,n,t,n),o.reflectFromAbove?e.render(i,u):e.render(i,c),e.setScissor(r+t/2,n,t,n),e.setViewport(r+t/2,n,t,n),o.reflectFromAbove?e.render(i,c):e.render(i,u),e.setScissorTest(!1)}},s=t(4150),c=t(2794),u=t(6710),p=t(184),l=function(){var e=(0,o.useMemo)((function(){for(var e=(new i.BoxGeometry).toNonIndexed(),r=e.attributes.position,t=[],n=new i.Color,o=0;o<r.count;o+=6)n.setHex(16777215*Math.random()),t.push(n.r,n.g,n.b),t.push(n.r,n.g,n.b),t.push(n.r,n.g,n.b),t.push(n.r,n.g,n.b),t.push(n.r,n.g,n.b),t.push(n.r,n.g,n.b);return e.setAttribute("color",new i.Float32BufferAttribute(t,3)),{geometry:e,material:new i.MeshBasicMaterial({vertexColors:!0})}}),[]),r=e.geometry,t=e.material,a=(0,o.useRef)();return(0,c.x)((function(){a.current.rotation.y+=.01})),(0,p.jsx)("group",{ref:a,children:(0,n.Z)(Array(10)).map((function(e,n){return(0,p.jsx)("mesh",{geometry:r,material:t,scale:Math.random()+.5,position:[2*Math.random()-1,2*Math.random()-1,2*Math.random()-1]},n)}))})},d=function(){var e=(0,c.w)(),r=e.gl,t=e.scene,n=e.camera,i=e.size,s=(0,o.useMemo)((function(){return new a(r)}),[]);return(0,o.useEffect)((function(){s.setSize(i.width,i.height),s.cameraDistance=15}),[i]),(0,c.x)((function(){s.render(t,n)}),1),null},f=function(){return(0,p.jsxs)(s.Xz,{camera:{fov:60,aspect:u.Pf,near:1,far:1e5},children:[(0,p.jsx)("color",{attach:"background",args:["black"]}),(0,p.jsx)(l,{}),(0,p.jsx)(d,{})]})}}}]);
//# sourceMappingURL=371.7cdddd8f.chunk.js.map