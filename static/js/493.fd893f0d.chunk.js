"use strict";(self.webpackChunkthreejs_examples_with_fiber=self.webpackChunkthreejs_examples_with_fiber||[]).push([[493],{2493:function(e,n,t){t.r(n);var a,r,o,i,s,c,l,d=t(323),f=t(7219),h=t(4647),p=t(3655),u=t(7786),m=t(2791),g=t(184);p.L.preload("/models/RobotExpressive.glb");var x={state:"Walking"},j=function(e,n){s=i,i=o[e],s!==i&&s.fadeOut(n),i.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(n).play()},v=function(){var e=(0,p.L)("/models/RobotExpressive.glb"),n=e.scene,t=e.animations;return c=n,(0,f.x)((function(e,n){r.update(n)})),(0,m.useEffect)((function(){!function(e,n){var t=["Idle","Walking","Running","Dance","Death","Sitting","Standing"],s=["Jump","Yes","No","Wave","Punch","ThumbsUp"];a=new u.XS,r=new d.AnimationMixer(e),o={};for(var c=0;c<n.length;c++){var f=n[c],h=r.clipAction(f);o[f.name]=h,(s.indexOf(f.name)>=0||t.indexOf(f.name)>=4)&&(h.clampWhenFinished=!0,h.loop=d.LoopOnce)}var p=a.addFolder("States");p.add(x,"state").options(t).onChange((function(){j(x.state,.5)})),p.open();for(var m=a.addFolder("Emotes"),g=function(e){x[e]=function(){j(e,.2),r.addEventListener("finished",v)},m.add(x,e)},v=function e(){r.removeEventListener("finished",e),j(x.state,.2)},b=0;b<s.length;b++)g(s[b]);m.open(),l=e.getObjectByName("Head_4");for(var k=Object.keys(l.morphTargetDictionary),E=a.addFolder("Expressions"),y=0;y<k.length;y++)E.add(l.morphTargetInfluences,y,0,1,.01).name(k[y]);(i=o.Walking).play(),E.open()}(c,t)}),[]),(0,g.jsx)("primitive",{object:n})},b=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],children:[(0,g.jsx)("planeGeometry",{args:[2e3,2e3]}),(0,g.jsx)("meshPhongMaterial",{color:10066329,depthWrite:!1})]}),(0,g.jsx)("mesh",{children:(0,g.jsx)("gridHelper",{args:[200,40,0,0],"material-opacity":.2,"material-transparent":!0})})]})};n.default=function(){return(0,g.jsxs)(h.Xz,{camera:{position:[-5,3,10],fov:45,near:.25,far:100},dpr:[1,2],onCreated:function(e){return e.camera.lookAt(0,2,0)},children:[(0,g.jsx)("color",{attach:"background",args:[14737632]}),(0,g.jsx)("fog",{attach:"fog",color:14737632,near:20,far:100}),(0,g.jsx)("hemisphereLight",{color:16777215,groundColor:4473924,position:[0,20,0]}),(0,g.jsx)("directionalLight",{color:16777215,position:[0,20,10]}),(0,g.jsx)(b,{}),(0,g.jsx)(v,{})]})}}}]);
//# sourceMappingURL=493.fd893f0d.chunk.js.map