"use strict";(self.webpackChunkthreejs_examples_with_fiber=self.webpackChunkthreejs_examples_with_fiber||[]).push([[493],{2493:function(e,n,t){t.r(n);var a,r,i,o,s,c,l,d=t(323),f=t(7219),h=t(4647),p=t(3655),u=t(7786),m=t(2791),g=t(184),x="".concat("/threejs-examples-with-fiber","/models/RobotExpressive.glb");p.L.preload(x);var j={state:"Walking"},v=function(e,n){s=o,o=i[e],s!==o&&s.fadeOut(n),o.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(n).play()},b=function(){var e=(0,p.L)(x),n=e.scene,t=e.animations;return c=n,(0,f.x)((function(e,n){r&&r.update(n)})),(0,m.useEffect)((function(){!function(e,n){var t=["Idle","Walking","Running","Dance","Death","Sitting","Standing"],s=["Jump","Yes","No","Wave","Punch","ThumbsUp"];a=new u.XS,r=new d.AnimationMixer(e),i={};for(var c=0;c<n.length;c++){var f=n[c],h=r.clipAction(f);i[f.name]=h,(s.indexOf(f.name)>=0||t.indexOf(f.name)>=4)&&(h.clampWhenFinished=!0,h.loop=d.LoopOnce)}var p=a.addFolder("States");p.add(j,"state").options(t).onChange((function(){v(j.state,.5)})),p.open();for(var m=a.addFolder("Emotes"),g=function(e){j[e]=function(){v(e,.2),r.addEventListener("finished",x)},m.add(j,e)},x=function e(){r.removeEventListener("finished",e),v(j.state,.2)},b=0;b<s.length;b++)g(s[b]);m.open(),l=e.getObjectByName("Head_4");for(var k=Object.keys(l.morphTargetDictionary),E=a.addFolder("Expressions"),w=0;w<k.length;w++)E.add(l.morphTargetInfluences,w,0,1,.01).name(k[w]);(o=i.Walking).play(),E.open()}(c,t)}),[]),(0,g.jsx)("primitive",{object:n})},k=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],children:[(0,g.jsx)("planeGeometry",{args:[2e3,2e3]}),(0,g.jsx)("meshPhongMaterial",{color:10066329,depthWrite:!1})]}),(0,g.jsx)("mesh",{children:(0,g.jsx)("gridHelper",{args:[200,40,0,0],"material-opacity":.2,"material-transparent":!0})})]})};n.default=function(){return(0,g.jsxs)(h.Xz,{camera:{position:[-5,3,10],fov:45,near:.25,far:100},dpr:[1,2],onCreated:function(e){return e.camera.lookAt(0,2,0)},children:[(0,g.jsx)("color",{attach:"background",args:[14737632]}),(0,g.jsx)("fog",{attach:"fog",color:14737632,near:20,far:100}),(0,g.jsx)("hemisphereLight",{color:16777215,groundColor:4473924,position:[0,20,0]}),(0,g.jsx)("directionalLight",{color:16777215,position:[0,20,10]}),(0,g.jsx)(k,{}),(0,g.jsx)(b,{})]})}}}]);
//# sourceMappingURL=493.b026f6b6.chunk.js.map